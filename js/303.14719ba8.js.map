{"version":3,"file":"js/303.14719ba8.js","mappings":"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","sources":["webpack://my-project/./node_modules/d3-array/src/ascending.js","webpack://my-project/./node_modules/d3-array/src/descending.js","webpack://my-project/./node_modules/d3-array/src/bisector.js","webpack://my-project/./node_modules/d3-array/src/number.js","webpack://my-project/./node_modules/d3-array/src/bisect.js","webpack://my-project/./node_modules/d3-array/src/sum.js","webpack://my-project/./node_modules/d3-array/src/ticks.js","webpack://my-project/./node_modules/d3-brush/src/brush.js","webpack://my-project/./node_modules/d3-color/src/define.js","webpack://my-project/./node_modules/d3-color/src/color.js","webpack://my-project/./node_modules/d3-dispatch/src/dispatch.js","webpack://my-project/./node_modules/d3-dsv/src/dsv.js","webpack://my-project/./node_modules/d3-dsv/src/csv.js","webpack://my-project/./node_modules/d3-ease/src/cubic.js","webpack://my-project/./node_modules/d3-force/src/center.js","webpack://my-project/./node_modules/d3-quadtree/src/add.js","webpack://my-project/./node_modules/d3-quadtree/src/cover.js","webpack://my-project/./node_modules/d3-quadtree/src/data.js","webpack://my-project/./node_modules/d3-quadtree/src/extent.js","webpack://my-project/./node_modules/d3-quadtree/src/quad.js","webpack://my-project/./node_modules/d3-quadtree/src/find.js","webpack://my-project/./node_modules/d3-quadtree/src/remove.js","webpack://my-project/./node_modules/d3-quadtree/src/root.js","webpack://my-project/./node_modules/d3-quadtree/src/size.js","webpack://my-project/./node_modules/d3-quadtree/src/visit.js","webpack://my-project/./node_modules/d3-quadtree/src/visitAfter.js","webpack://my-project/./node_modules/d3-quadtree/src/x.js","webpack://my-project/./node_modules/d3-quadtree/src/y.js","webpack://my-project/./node_modules/d3-quadtree/src/quadtree.js","webpack://my-project/./node_modules/d3-force/src/constant.js","webpack://my-project/./node_modules/d3-force/src/jiggle.js","webpack://my-project/./node_modules/d3-force/src/collide.js","webpack://my-project/./node_modules/d3-force/src/lcg.js","webpack://my-project/./node_modules/d3-force/src/simulation.js","webpack://my-project/./node_modules/d3-force/src/manyBody.js","webpack://my-project/./node_modules/d3-format/src/formatGroup.js","webpack://my-project/./node_modules/d3-format/src/formatNumerals.js","webpack://my-project/./node_modules/d3-format/src/formatTrim.js","webpack://my-project/./node_modules/d3-format/src/formatPrefixAuto.js","webpack://my-project/./node_modules/d3-format/src/formatRounded.js","webpack://my-project/./node_modules/d3-format/src/formatTypes.js","webpack://my-project/./node_modules/d3-format/src/identity.js","webpack://my-project/./node_modules/d3-format/src/locale.js","webpack://my-project/./node_modules/d3-format/src/defaultLocale.js","webpack://my-project/./node_modules/d3-format/src/exponent.js","webpack://my-project/./node_modules/d3-format/src/formatDecimal.js","webpack://my-project/./node_modules/d3-format/src/formatSpecifier.js","webpack://my-project/./node_modules/d3-format/src/precisionFixed.js","webpack://my-project/./node_modules/d3-format/src/precisionPrefix.js","webpack://my-project/./node_modules/d3-format/src/precisionRound.js","webpack://my-project/./node_modules/d3-geo/src/identity.js","webpack://my-project/./node_modules/d3-geo/src/stream.js","webpack://my-project/./node_modules/d3-array/src/fsum.js","webpack://my-project/./node_modules/d3-geo/src/math.js","webpack://my-project/./node_modules/d3-geo/src/noop.js","webpack://my-project/./node_modules/d3-geo/src/path/area.js","webpack://my-project/./node_modules/d3-geo/src/path/bounds.js","webpack://my-project/./node_modules/d3-geo/src/path/centroid.js","webpack://my-project/./node_modules/d3-geo/src/path/context.js","webpack://my-project/./node_modules/d3-geo/src/path/measure.js","webpack://my-project/./node_modules/d3-geo/src/path/string.js","webpack://my-project/./node_modules/d3-geo/src/path/index.js","webpack://my-project/./node_modules/d3-geo/src/compose.js","webpack://my-project/./node_modules/d3-geo/src/rotation.js","webpack://my-project/./node_modules/d3-geo/src/clip/buffer.js","webpack://my-project/./node_modules/d3-geo/src/pointEqual.js","webpack://my-project/./node_modules/d3-geo/src/clip/rejoin.js","webpack://my-project/./node_modules/d3-geo/src/cartesian.js","webpack://my-project/./node_modules/d3-geo/src/polygonContains.js","webpack://my-project/./node_modules/d3-array/src/merge.js","webpack://my-project/./node_modules/d3-geo/src/clip/index.js","webpack://my-project/./node_modules/d3-geo/src/clip/antimeridian.js","webpack://my-project/./node_modules/d3-geo/src/circle.js","webpack://my-project/./node_modules/d3-geo/src/clip/circle.js","webpack://my-project/./node_modules/d3-geo/src/clip/line.js","webpack://my-project/./node_modules/d3-geo/src/clip/rectangle.js","webpack://my-project/./node_modules/d3-geo/src/transform.js","webpack://my-project/./node_modules/d3-geo/src/projection/fit.js","webpack://my-project/./node_modules/d3-geo/src/projection/resample.js","webpack://my-project/./node_modules/d3-geo/src/projection/index.js","webpack://my-project/./node_modules/d3-geo/src/projection/mercator.js","webpack://my-project/./node_modules/d3-interpolate/src/constant.js","webpack://my-project/./node_modules/d3-interpolate/src/number.js","webpack://my-project/./node_modules/d3-interpolate/src/basis.js","webpack://my-project/./node_modules/d3-interpolate/src/basisClosed.js","webpack://my-project/./node_modules/d3-interpolate/src/color.js","webpack://my-project/./node_modules/d3-interpolate/src/rgb.js","webpack://my-project/./node_modules/d3-interpolate/src/round.js","webpack://my-project/./node_modules/d3-interpolate/src/string.js","webpack://my-project/./node_modules/d3-interpolate/src/transform/parse.js","webpack://my-project/./node_modules/d3-interpolate/src/transform/decompose.js","webpack://my-project/./node_modules/d3-interpolate/src/transform/index.js","webpack://my-project/./node_modules/d3-interpolate/src/array.js","webpack://my-project/./node_modules/d3-interpolate/src/date.js","webpack://my-project/./node_modules/d3-interpolate/src/object.js","webpack://my-project/./node_modules/d3-interpolate/src/numberArray.js","webpack://my-project/./node_modules/d3-interpolate/src/value.js"],"sourcesContent":["export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We cant do this\n  // for a comparator (except for specific, known comparators) because we cant\n  // tell if the comparator is symmetric, and an asymmetric comparator cant be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","export default function(x, y) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","export default x => x;\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","// Simple caching for constant-radius points.\nlet cacheDigits, cacheAppend, cacheRadius, cacheCircle;\n\nexport default class PathString {\n  constructor(digits) {\n    this._append = digits == null ? append : appendRound(digits);\n    this._radius = 4.5;\n    this._ = \"\";\n  }\n  pointRadius(_) {\n    this._radius = +_;\n    return this;\n  }\n  polygonStart() {\n    this._line = 0;\n  }\n  polygonEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line === 0) this._ += \"Z\";\n    this._point = NaN;\n  }\n  point(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._append`M${x},${y}`;\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._append`L${x},${y}`;\n        break;\n      }\n      default: {\n        this._append`M${x},${y}`;\n        if (this._radius !== cacheRadius || this._append !== cacheAppend) {\n          const r = this._radius;\n          const s = this._;\n          this._ = \"\"; // stash the old string so we can cache the circle path fragment\n          this._append`m0,${r}a${r},${r} 0 1,1 0,${-2 * r}a${r},${r} 0 1,1 0,${2 * r}z`;\n          cacheRadius = r;\n          cacheAppend = this._append;\n          cacheCircle = this._;\n          this._ = s;\n        }\n        this._ += cacheCircle;\n        break;\n      }\n    }\n  }\n  result() {\n    const result = this._;\n    this._ = \"\";\n    return result.length ? result : null;\n  }\n}\n\nfunction append(strings) {\n  let i = 1;\n  this._ += strings[0];\n  for (const j = strings.length; i < j; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  const d = Math.floor(digits);\n  if (!(d >= 0)) throw new RangeError(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  if (d !== cacheDigits) {\n    const k = 10 ** d;\n    cacheDigits = d;\n    cacheAppend = function append(strings) {\n      let i = 1;\n      this._ += strings[0];\n      for (const j = strings.length; i < j; ++i) {\n        this._ += Math.round(arguments[i] * k) / k + strings[i];\n      }\n    };\n  }\n  return cacheAppend;\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  let digits = 3,\n      pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    if (!arguments.length) return projection;\n    projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream;\n    return path;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString(digits)) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  path.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) digits = null;\n    else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    if (context === null) contextStream = new PathString(digits);\n    return path;\n  };\n\n  return path.projection(projection).digits(digits).context(context);\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(2),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 2 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","export default x => () => x;\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n"],"names":["ascending","a","b","NaN","descending","bisector","f","compare1","compare2","delta","left","x","lo","hi","length","mid","right","center","i","d","zero","number","ascendingBisect","bisectRight","sum","values","valueof","undefined","value","index","e10","Math","sqrt","e5","e2","tickSpec","start","stop","count","step","max","power","floor","log10","error","pow","factor","i1","i2","inc","round","ticks","reverse","n","Array","tickIncrement","tickStep","abs","min","number1","e","number2","map","type","t","constructor","factory","prototype","extend","parent","definition","Object","create","key","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","this","rgb","formatHex","color_formatHex8","formatHex8","color_formatHsl","hslConvert","formatHsl","color_formatRgb","formatRgb","color","format","m","l","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","r","g","rgbConvert","o","opacity","arguments","rgb_formatHex","hex","rgb_formatHex8","isNaN","rgb_formatRgb","clampa","clampi","toString","h","s","Hsl","hsl","clamph","clampt","hsl2rgb","m1","m2","define","copy","channels","assign","displayable","k","clamp","noop","dispatch","_","test","Error","Dispatch","parseTypenames","typenames","types","split","name","indexOf","slice","get","c","set","callback","concat","push","on","typename","T","call","that","args","apply","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","Function","JSON","stringify","join","customConverter","object","row","inferColumns","rows","columnSet","forEach","column","pad","width","formatYear","year","formatDate","date","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","delimiter","reFormat","DELIMITER","charCodeAt","parse","text","convert","parseRows","N","I","eof","eol","token","j","replace","preformatBody","formatValue","formatBody","formatRows","formatRow","Date","csv","dsv","csvParse","cubicInOut","y","nodes","strength","force","node","sx","sy","initialize","_x","_y","add","cover","tree","xm","ym","xp","yp","bottom","_root","leaf","data","x0","_x0","y0","_y0","x1","_x1","y1","_y1","next","addAll","xz","yz","Infinity","z","visit","radius","x2","y2","q","x3","y3","quads","Quad","pop","dx","dy","d2","retainer","previous","removeAll","remove","size","child","defaultX","defaultY","quadtree","Quadtree","leaf_copy","treeProto","random","vx","vy","radii","iterations","xi","yi","ri","ri2","visitAfter","prepare","quad","rj","jiggle","constant","_nodes","_random","source","target","tree_add","tree_addAll","tree_cover","tree_data","extent","tree_extent","find","tree_find","tree_remove","tree_removeAll","root","tree_root","tree_size","tree_visit","tree_visitAfter","tree_x","tree_y","initialRadius","initialAngle","PI","simulation","alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","Map","stepper","timer","event","lcg","tick","fx","fy","initializeNodes","angle","cos","sin","initializeForce","restart","randomSource","delete","closest","strengths","distanceMin2","distanceMax2","theta2","accumulate","weight","w","distanceMin","distanceMax","theta","grouping","thousands","substring","numerals","out","i0","prefixExponent","p","formatDecimalParts","coefficient","exponent","%","toFixed","formatDecimal","toExponential","toPrecision","formatRounded","formatPrefixAuto","toUpperCase","locale","formatPrefix","prefixes","group","identity","formatGroup","Number","currencyPrefix","currency","currencySuffix","decimal","formatNumerals","String","percent","minus","nan","newFormat","specifier","formatSpecifier","fill","align","sign","symbol","comma","precision","formatTypes","prefix","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","padding","defaultLocale","formatLocale","toLocaleString","re","match","FormatSpecifier","streamGeometry","geometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","features","Sphere","sphere","Point","coordinates","point","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","Adder","_partials","Float64Array","_n","valueOf","epsilon","epsilon2","pi","halfPi","quarterPi","tau","degrees","radians","atan","atan2","exp","ceil","log","hypot","acos","asin","x00","y00","areaSum","areaRingSum","areaStream","areaRingStart","areaRingEnd","result","area","areaPointFirst","areaPoint","boundsStream","boundsPoint","bounds","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroid","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","context","_context","_radius","pointRadius","_line","_point","closePath","moveTo","lineTo","arc","lengthRing","lengthSum","lengthStream","lengthPointFirst","lengthPoint","cacheDigits","cacheAppend","cacheRadius","cacheCircle","PathString","digits","_append","append","appendRound","strings","RangeError","projection","projectionStream","contextStream","path","pathArea","measure","pathMeasure","pathBounds","pathCentroid","compose","invert","rotationIdentity","lambda","phi","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","cosPhi","rotate","forward","line","lines","rejoin","shift","Intersection","points","other","entry","v","segments","compareIntersection","startInside","interpolate","subject","clip","segment","p0","p1","pointEqual","sort","link","current","isSubject","array","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","longitude","polygon","sinPhi","normal","winding","ring","point0","lambda0","phi0","sinPhi0","cosPhi0","lambda1","sinPhi1","cosPhi1","point1","phi1","absDelta","antimeridian","intersection","phiArc","flatten","arrays","merge","from","pointVisible","clipLine","sink","ringBuffer","clipBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","polygonContains","clipRejoin","pointLine","clean","ringSegments","filter","validSegment","clipAntimeridianLine","clipAntimeridianInterpolate","sign0","sign1","clipAntimeridianIntersect","sinLambda0Lambda1","to","direction","circleStream","t0","t1","cosRadius","sinRadius","circleRadius","cr","smallRadius","notHemisphere","visible","c0","v0","v00","point2","code","intersect","two","pa","pb","n1","n2","n2n2","n1n2","determinant","c1","c2","n1xn2","A","B","u","uu","t2","polar","meridian","q1","ax","ay","bx","by","clipMax","clipMin","clipRectangle","a1","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","first","activeStream","bufferStream","clipStream","polygonInside","a0","b0","b1","cleanInside","linePoint","transformer","methods","TransformStream","fit","fitBounds","clipExtent","scale","translate","geoStream","fitExtent","fitSize","fitWidth","fitHeight","height","maxDepth","cosMinDistance","project","delta2","resample","resampleNone","resampleLineTo","depth","phi2","lambda2","dx2","dy2","dz","lambda00","a00","b00","c00","resampleStream","ringPoint","transformRadians","transformRotate","scaleTranslate","transform","scaleTranslateRotate","cosAlpha","sinAlpha","ai","bi","ci","fi","projectionMutator","projectAt","projectResample","projectTransform","projectRotateTransform","cache","cacheStream","preclip","clipAntimeridian","postclip","recenter","reset","clipAngle","clipCircle","reflectX","reflectY","mercatorRaw","mercatorProjection","reclip","basis","v1","v2","v3","t3","linear","exponential","gamma","nogamma","rgbGamma","end","colorRgb","rgbSpline","spline","colors","basisClosed","reA","reB","one","am","bm","bs","lastIndex","svgNode","translateX","translateY","skewX","scaleX","scaleY","parseCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","parseSvg","document","createElementNS","setAttribute","baseVal","consolidate","matrix","interpolateTransform","pxComma","pxParen","degParen","xa","ya","xb","yb","interpolateTransformCss","interpolateTransformSvg","genericArray","nb","na","setTime","isNumberArray","ArrayBuffer","isView","DataView","string","numberArray","isArray"],"sourceRoot":""}