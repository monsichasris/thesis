"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[385],{8385:function(t,e,n){n.d(e,{cA:function(){return xn},JG:function(){return hn.J},Ey:function(){return J.Ey}});var i=n(6036),r=n(8207),s=n(6401),o=n(2636),a=n(8585),c=n(2935),l=n(6786),h=n(9595),u=n(9703),d=n(7447),f=n(7801),A=n(7572);function p(t){return m(t)?t.LABEL:t.name}function m(t){return(0,u.A)(t.LABEL)&&""!==t.LABEL}class T{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),(0,i.A)(this.definition,(e=>{e.accept(t)}))}}class E extends T{constructor(t){super([]),this.idx=1,(0,d.A)(this,(0,f.A)(t,(t=>void 0!==t)))}set definition(t){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(t){t.visit(this)}}class R extends T{constructor(t){super(t.definition),this.orgText="",(0,d.A)(this,(0,f.A)(t,(t=>void 0!==t)))}}class N extends T{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,(0,d.A)(this,(0,f.A)(t,(t=>void 0!==t)))}}class I extends T{constructor(t){super(t.definition),this.idx=1,(0,d.A)(this,(0,f.A)(t,(t=>void 0!==t)))}}class S extends T{constructor(t){super(t.definition),this.idx=1,(0,d.A)(this,(0,f.A)(t,(t=>void 0!==t)))}}class O extends T{constructor(t){super(t.definition),this.idx=1,(0,d.A)(this,(0,f.A)(t,(t=>void 0!==t)))}}class L extends T{constructor(t){super(t.definition),this.idx=1,(0,d.A)(this,(0,f.A)(t,(t=>void 0!==t)))}}class g extends T{constructor(t){super(t.definition),this.idx=1,(0,d.A)(this,(0,f.A)(t,(t=>void 0!==t)))}}class k extends T{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,(0,d.A)(this,(0,f.A)(t,(t=>void 0!==t)))}}class y{constructor(t){this.idx=1,(0,d.A)(this,(0,f.A)(t,(t=>void 0!==t)))}accept(t){t.visit(this)}}function _(t){return(0,o.A)(t,v)}function v(t){function e(t){return(0,o.A)(t,v)}if(t instanceof E){const e={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return(0,u.A)(t.label)&&(e.label=t.label),e}if(t instanceof N)return{type:"Alternative",definition:e(t.definition)};if(t instanceof I)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof S)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof O)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:v(new y({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof g)return{type:"RepetitionWithSeparator",idx:t.idx,separator:v(new y({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof L)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof k)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof y){const e={type:"Terminal",name:t.terminalType.name,label:p(t.terminalType),idx:t.idx};(0,u.A)(t.label)&&(e.terminalLabel=t.label);const n=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(e.pattern=(0,A.A)(n)?n.source:n),e}if(t instanceof R)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}class x{visit(t){const e=t;switch(e.constructor){case E:return this.visitNonTerminal(e);case N:return this.visitAlternative(e);case I:return this.visitOption(e);case S:return this.visitRepetitionMandatory(e);case O:return this.visitRepetitionMandatoryWithSeparator(e);case g:return this.visitRepetitionWithSeparator(e);case L:return this.visitRepetition(e);case k:return this.visitAlternation(e);case y:return this.visitTerminal(e);case R:return this.visitRule(e);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}}var P=n(2582),C=n(2531),M=n(8817);function w(t){return t instanceof N||t instanceof I||t instanceof L||t instanceof S||t instanceof O||t instanceof g||t instanceof y||t instanceof R}function F(t,e=[]){const n=t instanceof I||t instanceof L||t instanceof g;return!!n||(t instanceof k?(0,P.A)(t.definition,(t=>F(t,e))):!(t instanceof E&&(0,C.A)(e,t))&&(t instanceof T&&(t instanceof E&&e.push(t),(0,M.A)(t.definition,(t=>F(t,e))))))}function b(t){return t instanceof k}function U(t){if(t instanceof E)return"SUBRULE";if(t instanceof I)return"OPTION";if(t instanceof k)return"OR";if(t instanceof S)return"AT_LEAST_ONE";if(t instanceof O)return"AT_LEAST_ONE_SEP";if(t instanceof g)return"MANY_SEP";if(t instanceof L)return"MANY";if(t instanceof y)return"CONSUME";throw Error("non exhaustive match")}class D{walk(t,e=[]){(0,i.A)(t.definition,((n,i)=>{const r=(0,h.A)(t.definition,i+1);if(n instanceof E)this.walkProdRef(n,r,e);else if(n instanceof y)this.walkTerminal(n,r,e);else if(n instanceof N)this.walkFlat(n,r,e);else if(n instanceof I)this.walkOption(n,r,e);else if(n instanceof S)this.walkAtLeastOne(n,r,e);else if(n instanceof O)this.walkAtLeastOneSep(n,r,e);else if(n instanceof g)this.walkManySep(n,r,e);else if(n instanceof L)this.walkMany(n,r,e);else{if(!(n instanceof k))throw Error("non exhaustive match");this.walkOr(n,r,e)}}))}walkTerminal(t,e,n){}walkProdRef(t,e,n){}walkFlat(t,e,n){const i=e.concat(n);this.walk(t,i)}walkOption(t,e,n){const i=e.concat(n);this.walk(t,i)}walkAtLeastOne(t,e,n){const i=[new I({definition:t.definition})].concat(e,n);this.walk(t,i)}walkAtLeastOneSep(t,e,n){const i=K(t,e,n);this.walk(t,i)}walkMany(t,e,n){const i=[new I({definition:t.definition})].concat(e,n);this.walk(t,i)}walkManySep(t,e,n){const i=K(t,e,n);this.walk(t,i)}walkOr(t,e,n){const r=e.concat(n);(0,i.A)(t.definition,(t=>{const e=new N({definition:[t]});this.walk(e,r)}))}}function K(t,e,n){const i=[new I({definition:[new y({terminalType:t.separator})].concat(t.definition)})],r=i.concat(e,n);return r}var $=n(88),B=n(4098);function G(t){if(t instanceof E)return G(t.referencedRule);if(t instanceof y)return Y(t);if(w(t))return V(t);if(b(t))return W(t);throw Error("non exhaustive match")}function V(t){let e=[];const n=t.definition;let i,r=0,s=n.length>r,o=!0;while(s&&o)i=n[r],o=F(i),e=e.concat(G(i)),r+=1,s=n.length>r;return(0,$.A)(e)}function W(t){const e=(0,o.A)(t.definition,(t=>G(t)));return(0,$.A)((0,B.A)(e))}function Y(t){return[t.terminalType]}const H="_~IN~_";class j extends D{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,e,n){}walkProdRef(t,e,n){const i=X(t.referencedRule,t.idx)+this.topProd.name,r=e.concat(n),s=new N({definition:r}),o=G(s);this.follows[i]=o}}function z(t){const e={};return(0,i.A)(t,(t=>{const n=new j(t).startWalking();(0,d.A)(e,n)})),e}function X(t,e){return t.name+e+H}var J=n(1620),q=n(7360),Q=n(9463);const Z={buildMismatchTokenMessage({expected:t,actual:e,previous:n,ruleName:i}){const r=(0,J.Q)(t),s=r?`--\x3e ${(0,J.Sk)(t)} <--`:`token of type --\x3e ${t.name} <--`,o=`Expecting ${s} but found --\x3e '${e.image}' <--`;return o},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:n,customUserDescription:i,ruleName:r}){const s="Expecting: ",a=(0,q.A)(e).image,c="\nbut found: '"+a+"'";if(i)return s+i+c;{const e=(0,Q.A)(t,((t,e)=>t.concat(e)),[]),n=(0,o.A)(e,(t=>`[${(0,o.A)(t,(t=>(0,J.Sk)(t))).join(", ")}]`)),i=(0,o.A)(n,((t,e)=>`  ${e+1}. ${t}`)),r=`one of these possible Token sequences:\n${i.join("\n")}`;return s+r+c}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:n,ruleName:i}){const r="Expecting: ",s=(0,q.A)(e).image,a="\nbut found: '"+s+"'";if(n)return r+n+a;{const e=(0,o.A)(t,(t=>`[${(0,o.A)(t,(t=>(0,J.Sk)(t))).join(",")}]`)),n=`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${e.join(" ,")}>`;return r+n+a}}};Object.freeze(Z);const tt={buildRuleNotFoundError(t,e){const n="Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+"<-\ninside top level rule: ->"+t.name+"<-";return n}},et={buildDuplicateFoundError(t,e){function n(t){return t instanceof y?t.terminalType.name:t instanceof E?t.nonTerminalName:""}const i=t.name,r=(0,q.A)(e),s=r.idx,o=U(r),a=n(r),c=s>0;let l=`->${o}${c?s:""}<- ${a?`with argument: ->${a}<-`:""}\n                  appears more than once (${e.length} times) in the top level rule: ->${i}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return l=l.replace(/[ \t]+/g," "),l=l.replace(/\s\s+/g,"\n"),l},buildNamespaceConflictError(t){const e=`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`;return e},buildAlternationPrefixAmbiguityError(t){const e=(0,o.A)(t.prefixPath,(t=>(0,J.Sk)(t))).join(", "),n=0===t.alternation.idx?"":t.alternation.idx,i=`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${n}> inside <${t.topLevelRule.name}> Rule,\n<${e}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`;return i},buildAlternationAmbiguityError(t){const e=(0,o.A)(t.prefixPath,(t=>(0,J.Sk)(t))).join(", "),n=0===t.alternation.idx?"":t.alternation.idx;let i=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${t.topLevelRule.name}> Rule,\n<${e}> may appears as a prefix path in all these alternatives.\n`;return i+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",i},buildEmptyRepetitionError(t){let e=U(t.repetition);0!==t.repetition.idx&&(e+=t.repetition.idx);const n=`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`;return n},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){const e=`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`;return e},buildTooManyAlternativesError(t){const e=`An Alternation cannot have more than 256 alternatives:\n<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.\n has ${t.alternation.definition.length+1} alternatives.`;return e},buildLeftRecursionError(t){const e=t.topLevelRule.name,n=(0,o.A)(t.leftRecursionPath,(t=>t.name)),i=`${e} --\x3e ${n.concat([e]).join(" --\x3e ")}`,r=`Left Recursion found in grammar.\nrule: <${e}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${i}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`;return r},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;e=t.topLevelRule instanceof R?t.topLevelRule.name:t.topLevelRule;const n=`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`;return n}};var nt=n(3068);function it(t,e){const n=new rt(t,e);return n.resolveRefs(),n.errors}class rt extends x{constructor(t,e){super(),this.nameToTopRule=t,this.errMsgProvider=e,this.errors=[]}resolveRefs(){(0,i.A)((0,r.A)(this.nameToTopRule),(t=>{this.currTopLevel=t,t.accept(this)}))}visitNonTerminal(t){const e=this.nameToTopRule[t.nonTerminalName];if(e)t.referencedRule=e;else{const e=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:e,type:_n.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}}var st=n(8139),ot=n(4739),at=n(6661),ct=n(8993),lt=n(1254),ht=n(9241),ut=n(4092),dt=n(6666);class ft extends D{constructor(t,e){super(),this.topProd=t,this.path=e,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,c.A)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,c.A)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,e=[]){this.found||super.walk(t,e)}walkProdRef(t,e,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){const i=e.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,i)}}updateExpectedNext(){(0,s.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class At extends ft{constructor(t,e){super(t,e),this.path=e,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,e,n){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){const t=e.concat(n),i=new N({definition:t});this.possibleTokTypes=G(i),this.found=!0}}}class pt extends D{constructor(t,e){super(),this.topRule=t,this.occurrence=e,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class mt extends pt{walkMany(t,e,n){if(t.idx===this.occurrence){const t=(0,q.A)(e.concat(n));this.result.isEndOfRule=void 0===t,t instanceof y&&(this.result.token=t.terminalType,this.result.occurrence=t.idx)}else super.walkMany(t,e,n)}}class Tt extends pt{walkManySep(t,e,n){if(t.idx===this.occurrence){const t=(0,q.A)(e.concat(n));this.result.isEndOfRule=void 0===t,t instanceof y&&(this.result.token=t.terminalType,this.result.occurrence=t.idx)}else super.walkManySep(t,e,n)}}class Et extends pt{walkAtLeastOne(t,e,n){if(t.idx===this.occurrence){const t=(0,q.A)(e.concat(n));this.result.isEndOfRule=void 0===t,t instanceof y&&(this.result.token=t.terminalType,this.result.occurrence=t.idx)}else super.walkAtLeastOne(t,e,n)}}class Rt extends pt{walkAtLeastOneSep(t,e,n){if(t.idx===this.occurrence){const t=(0,q.A)(e.concat(n));this.result.isEndOfRule=void 0===t,t instanceof y&&(this.result.token=t.terminalType,this.result.occurrence=t.idx)}else super.walkAtLeastOneSep(t,e,n)}}function Nt(t,e,n=[]){n=(0,c.A)(n);let r=[],o=0;function a(e){return e.concat((0,h.A)(t,o+1))}function l(t){const i=Nt(a(t),e,n);return r.concat(i)}while(n.length<e&&o<t.length){const e=t[o];if(e instanceof N)return l(e.definition);if(e instanceof E)return l(e.definition);if(e instanceof I)r=l(e.definition);else{if(e instanceof S){const t=e.definition.concat([new L({definition:e.definition})]);return l(t)}if(e instanceof O){const t=[new N({definition:e.definition}),new L({definition:[new y({terminalType:e.separator})].concat(e.definition)})];return l(t)}if(e instanceof g){const t=e.definition.concat([new L({definition:[new y({terminalType:e.separator})].concat(e.definition)})]);r=l(t)}else if(e instanceof L){const t=e.definition.concat([new L({definition:e.definition})]);r=l(t)}else{if(e instanceof k)return(0,i.A)(e.definition,(t=>{!1===(0,s.A)(t.definition)&&(r=l(t.definition))})),r;if(!(e instanceof y))throw Error("non exhaustive match");n.push(e.terminalType)}}o++}return r.push({partialPath:n,suffixDef:(0,h.A)(t,o)}),r}function It(t,e,n,i){const r="EXIT_NONE_TERMINAL",o=[r],a="EXIT_ALTERNATIVE";let l=!1;const u=e.length,d=u-i-1,f=[],A=[];A.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});while(!(0,s.A)(A)){const t=A.pop();if(t===a){l&&(0,dt.A)(A).idx<=d&&A.pop();continue}const i=t.def,p=t.idx,m=t.ruleStack,T=t.occurrenceStack;if((0,s.A)(i))continue;const _=i[0];if(_===r){const t={idx:p,def:(0,h.A)(i),ruleStack:(0,ct.A)(m),occurrenceStack:(0,ct.A)(T)};A.push(t)}else if(_ instanceof y)if(p<u-1){const t=p+1,r=e[t];if(n(r,_.terminalType)){const e={idx:t,def:(0,h.A)(i),ruleStack:m,occurrenceStack:T};A.push(e)}}else{if(p!==u-1)throw Error("non exhaustive match");f.push({nextTokenType:_.terminalType,nextTokenOccurrence:_.idx,ruleStack:m,occurrenceStack:T}),l=!0}else if(_ instanceof E){const t=(0,c.A)(m);t.push(_.nonTerminalName);const e=(0,c.A)(T);e.push(_.idx);const n={idx:p,def:_.definition.concat(o,(0,h.A)(i)),ruleStack:t,occurrenceStack:e};A.push(n)}else if(_ instanceof I){const t={idx:p,def:(0,h.A)(i),ruleStack:m,occurrenceStack:T};A.push(t),A.push(a);const e={idx:p,def:_.definition.concat((0,h.A)(i)),ruleStack:m,occurrenceStack:T};A.push(e)}else if(_ instanceof S){const t=new L({definition:_.definition,idx:_.idx}),e=_.definition.concat([t],(0,h.A)(i)),n={idx:p,def:e,ruleStack:m,occurrenceStack:T};A.push(n)}else if(_ instanceof O){const t=new y({terminalType:_.separator}),e=new L({definition:[t].concat(_.definition),idx:_.idx}),n=_.definition.concat([e],(0,h.A)(i)),r={idx:p,def:n,ruleStack:m,occurrenceStack:T};A.push(r)}else if(_ instanceof g){const t={idx:p,def:(0,h.A)(i),ruleStack:m,occurrenceStack:T};A.push(t),A.push(a);const e=new y({terminalType:_.separator}),n=new L({definition:[e].concat(_.definition),idx:_.idx}),r=_.definition.concat([n],(0,h.A)(i)),s={idx:p,def:r,ruleStack:m,occurrenceStack:T};A.push(s)}else if(_ instanceof L){const t={idx:p,def:(0,h.A)(i),ruleStack:m,occurrenceStack:T};A.push(t),A.push(a);const e=new L({definition:_.definition,idx:_.idx}),n=_.definition.concat([e],(0,h.A)(i)),r={idx:p,def:n,ruleStack:m,occurrenceStack:T};A.push(r)}else if(_ instanceof k)for(let e=_.definition.length-1;e>=0;e--){const t=_.definition[e],n={idx:p,def:t.definition.concat((0,h.A)(i)),ruleStack:m,occurrenceStack:T};A.push(n),A.push(a)}else if(_ instanceof N)A.push({idx:p,def:_.definition.concat((0,h.A)(i)),ruleStack:m,occurrenceStack:T});else{if(!(_ instanceof R))throw Error("non exhaustive match");A.push(St(_,p,m,T))}}return f}function St(t,e,n,i){const r=(0,c.A)(n);r.push(t.name);const s=(0,c.A)(i);return s.push(1),{idx:e,def:t.definition,ruleStack:r,occurrenceStack:s}}var Ot,Lt=n(3590);function gt(t){if(t instanceof I||"Option"===t)return Ot.OPTION;if(t instanceof L||"Repetition"===t)return Ot.REPETITION;if(t instanceof S||"RepetitionMandatory"===t)return Ot.REPETITION_MANDATORY;if(t instanceof O||"RepetitionMandatoryWithSeparator"===t)return Ot.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof g||"RepetitionWithSeparator"===t)return Ot.REPETITION_WITH_SEPARATOR;if(t instanceof k||"Alternation"===t)return Ot.ALTERNATION;throw Error("non exhaustive match")}function kt(t,e,n,i,r,s){const o=bt(t,e,n),a=$t(o)?Lt.yJ:Lt.xU;return s(o,i,a,r)}function yt(t,e,n,i,r,s){const o=Ut(t,e,r,n),a=$t(o)?Lt.yJ:Lt.xU;return s(o[0],a,i)}function _t(t,e,n,r){const s=t.length,c=(0,M.A)(t,(t=>(0,M.A)(t,(t=>1===t.length))));if(e)return function(e){const i=(0,o.A)(e,(t=>t.GATE));for(let r=0;r<s;r++){const e=t[r],s=e.length,o=i[r];if(void 0===o||!1!==o.call(this))t:for(let t=0;t<s;t++){const i=e[t],s=i.length;for(let t=0;t<s;t++){const e=this.LA(t+1);if(!1===n(e,i[t]))continue t}return r}}};if(c&&!r){const e=(0,o.A)(t,(t=>(0,B.A)(t))),n=(0,Q.A)(e,((t,e,n)=>((0,i.A)(e,(e=>{(0,a.A)(t,e.tokenTypeIdx)||(t[e.tokenTypeIdx]=n),(0,i.A)(e.categoryMatches,(e=>{(0,a.A)(t,e)||(t[e]=n)}))})),t)),{});return function(){const t=this.LA(1);return n[t.tokenTypeIdx]}}return function(){for(let e=0;e<s;e++){const i=t[e],r=i.length;t:for(let t=0;t<r;t++){const r=i[t],s=r.length;for(let t=0;t<s;t++){const e=this.LA(t+1);if(!1===n(e,r[t]))continue t}return e}}}}function vt(t,e,n){const r=(0,M.A)(t,(t=>1===t.length)),o=t.length;if(r&&!n){const e=(0,B.A)(t);if(1===e.length&&(0,s.A)(e[0].categoryMatches)){const t=e[0],n=t.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===n}}{const t=(0,Q.A)(e,((t,e,n)=>(t[e.tokenTypeIdx]=!0,(0,i.A)(e.categoryMatches,(e=>{t[e]=!0})),t)),[]);return function(){const e=this.LA(1);return!0===t[e.tokenTypeIdx]}}}return function(){t:for(let n=0;n<o;n++){const i=t[n],r=i.length;for(let t=0;t<r;t++){const n=this.LA(t+1);if(!1===e(n,i[t]))continue t}return!0}return!1}}(function(t){t[t["OPTION"]=0]="OPTION",t[t["REPETITION"]=1]="REPETITION",t[t["REPETITION_MANDATORY"]=2]="REPETITION_MANDATORY",t[t["REPETITION_MANDATORY_WITH_SEPARATOR"]=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t["REPETITION_WITH_SEPARATOR"]=4]="REPETITION_WITH_SEPARATOR",t[t["ALTERNATION"]=5]="ALTERNATION"})(Ot||(Ot={}));class xt extends D{constructor(t,e,n){super(),this.topProd=t,this.targetOccurrence=e,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,e,n,i){return t.idx===this.targetOccurrence&&this.targetProdType===e&&(this.restDef=n.concat(i),!0)}walkOption(t,e,n){this.checkIsTarget(t,Ot.OPTION,e,n)||super.walkOption(t,e,n)}walkAtLeastOne(t,e,n){this.checkIsTarget(t,Ot.REPETITION_MANDATORY,e,n)||super.walkOption(t,e,n)}walkAtLeastOneSep(t,e,n){this.checkIsTarget(t,Ot.REPETITION_MANDATORY_WITH_SEPARATOR,e,n)||super.walkOption(t,e,n)}walkMany(t,e,n){this.checkIsTarget(t,Ot.REPETITION,e,n)||super.walkOption(t,e,n)}walkManySep(t,e,n){this.checkIsTarget(t,Ot.REPETITION_WITH_SEPARATOR,e,n)||super.walkOption(t,e,n)}}class Pt extends x{constructor(t,e,n){super(),this.targetOccurrence=t,this.targetProdType=e,this.targetRef=n,this.result=[]}checkIsTarget(t,e){t.idx!==this.targetOccurrence||this.targetProdType!==e||void 0!==this.targetRef&&t!==this.targetRef||(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,Ot.OPTION)}visitRepetition(t){this.checkIsTarget(t,Ot.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,Ot.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,Ot.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,Ot.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,Ot.ALTERNATION)}}function Ct(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=[];return e}function Mt(t){let e=[""];for(let n=0;n<t.length;n++){const i=t[n],r=[];for(let t=0;t<e.length;t++){const n=e[t];r.push(n+"_"+i.tokenTypeIdx);for(let t=0;t<i.categoryMatches.length;t++){const e="_"+i.categoryMatches[t];r.push(n+e)}}e=r}return e}function wt(t,e,n){for(let i=0;i<t.length;i++){if(i===n)continue;const r=t[i];for(let t=0;t<e.length;t++){const n=e[t];if(!0===r[n])return!1}}return!0}function Ft(t,e){const n=(0,o.A)(t,(t=>Nt([t],1))),r=Ct(n.length),a=(0,o.A)(n,(t=>{const e={};return(0,i.A)(t,(t=>{const n=Mt(t.partialPath);(0,i.A)(n,(t=>{e[t]=!0}))})),e}));let c=n;for(let o=1;o<=e;o++){const t=c;c=Ct(t.length);for(let n=0;n<t.length;n++){const l=t[n];for(let t=0;t<l.length;t++){const h=l[t].partialPath,u=l[t].suffixDef,d=Mt(h),f=wt(a,d,n);if(f||(0,s.A)(u)||h.length===e){const t=r[n];if(!1===Dt(t,h)){t.push(h);for(let t=0;t<d.length;t++){const e=d[t];a[n][e]=!0}}}else{const t=Nt(u,o+1,h);c[n]=c[n].concat(t),(0,i.A)(t,(t=>{const e=Mt(t.partialPath);(0,i.A)(e,(t=>{a[n][t]=!0}))}))}}}}return r}function bt(t,e,n,i){const r=new Pt(t,Ot.ALTERNATION,i);return e.accept(r),Ft(r.result,n)}function Ut(t,e,n,i){const r=new Pt(t,n);e.accept(r);const s=r.result,o=new xt(e,t,n),a=o.startWalking(),c=new N({definition:s}),l=new N({definition:a});return Ft([c,l],i)}function Dt(t,e){t:for(let n=0;n<t.length;n++){const i=t[n];if(i.length===e.length){for(let t=0;t<i.length;t++){const n=e[t],r=i[t],s=n===r||void 0!==r.categoryMatchesMap[n.tokenTypeIdx];if(!1===s)continue t}return!0}}return!1}function Kt(t,e){return t.length<e.length&&(0,M.A)(t,((t,n)=>{const i=e[n];return t===i||i.categoryMatchesMap[t.tokenTypeIdx]}))}function $t(t){return(0,M.A)(t,(t=>(0,M.A)(t,(t=>(0,M.A)(t,(t=>(0,s.A)(t.categoryMatches)))))))}function Bt(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return(0,o.A)(e,(t=>Object.assign({type:_n.CUSTOM_LOOKAHEAD_VALIDATION},t)))}function Gt(t,e,n,i){const r=(0,st.A)(t,(t=>Vt(t,n))),s=se(t,e,n),o=(0,st.A)(t,(t=>ee(t,n))),a=(0,st.A)(t,(e=>jt(e,t,i,n)));return r.concat(s,o,a)}function Vt(t,e){const n=new Ht;t.accept(n);const i=n.allProductions,s=(0,ot.A)(i,Wt),a=(0,f.A)(s,(t=>t.length>1)),c=(0,o.A)((0,r.A)(a),(n=>{const i=(0,q.A)(n),r=e.buildDuplicateFoundError(t,n),s=U(i),o={message:r,type:_n.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:s,occurrence:i.idx},a=Yt(i);return a&&(o.parameter=a),o}));return c}function Wt(t){return`${U(t)}_#_${t.idx}_#_${Yt(t)}`}function Yt(t){return t instanceof y?t.terminalType.name:t instanceof E?t.nonTerminalName:""}class Ht extends x{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}}function jt(t,e,n,i){const r=[],s=(0,Q.A)(e,((e,n)=>n.name===t.name?e+1:e),0);if(s>1){const e=i.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});r.push({message:e,type:_n.DUPLICATE_RULE_NAME,ruleName:t.name})}return r}function zt(t,e,n){const i=[];let r;return(0,C.A)(e,t)||(r=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,i.push({message:r,type:_n.INVALID_RULE_OVERRIDE,ruleName:t})),i}function Xt(t,e,n,i=[]){const r=[],o=Jt(e.definition);if((0,s.A)(o))return[];{const e=t.name,s=(0,C.A)(o,t);s&&r.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:i}),type:_n.LEFT_RECURSION,ruleName:e});const a=(0,at.A)(o,i.concat([t])),l=(0,st.A)(a,(e=>{const r=(0,c.A)(i);return r.push(e),Xt(t,e,n,r)}));return r.concat(l)}}function Jt(t){let e=[];if((0,s.A)(t))return e;const n=(0,q.A)(t);if(n instanceof E)e.push(n.referencedRule);else if(n instanceof N||n instanceof I||n instanceof S||n instanceof O||n instanceof g||n instanceof L)e=e.concat(Jt(n.definition));else if(n instanceof k)e=(0,B.A)((0,o.A)(n.definition,(t=>Jt(t.definition))));else if(!(n instanceof y))throw Error("non exhaustive match");const i=F(n),r=t.length>1;if(i&&r){const n=(0,h.A)(t);return e.concat(Jt(n))}return e}class qt extends x{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}}function Qt(t,e){const n=new qt;t.accept(n);const i=n.alternations,r=(0,st.A)(i,(n=>{const i=(0,ct.A)(n.definition);return(0,st.A)(i,((i,r)=>{const o=It([i],[],Lt.xU,1);return(0,s.A)(o)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:n,emptyChoiceIdx:r}),type:_n.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:n.idx,alternative:r+1}]:[]}))}));return r}function Zt(t,e,n){const i=new qt;t.accept(i);let r=i.alternations;r=(0,lt.A)(r,(t=>!0===t.ignoreAmbiguities));const s=(0,st.A)(r,(i=>{const r=i.idx,s=i.maxLookahead||e,o=bt(r,t,s,i),a=ie(o,i,t,n),c=re(o,i,t,n);return a.concat(c)}));return s}class te extends x{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}}function ee(t,e){const n=new qt;t.accept(n);const i=n.alternations,r=(0,st.A)(i,(n=>n.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:n}),type:_n.TOO_MANY_ALTS,ruleName:t.name,occurrence:n.idx}]:[]));return r}function ne(t,e,n){const r=[];return(0,i.A)(t,(t=>{const o=new te;t.accept(o);const a=o.allProductions;(0,i.A)(a,(i=>{const o=gt(i),a=i.maxLookahead||e,c=i.idx,l=Ut(c,t,o,a),h=l[0];if((0,s.A)((0,B.A)(h))){const e=n.buildEmptyRepetitionError({topLevelRule:t,repetition:i});r.push({message:e,type:_n.NO_NON_EMPTY_LOOKAHEAD,ruleName:t.name})}}))})),r}function ie(t,e,n,r){const s=[],a=(0,Q.A)(t,((n,r,o)=>(!0===e.definition[o].ignoreAmbiguities||(0,i.A)(r,(r=>{const a=[o];(0,i.A)(t,((t,n)=>{o!==n&&Dt(t,r)&&!0!==e.definition[n].ignoreAmbiguities&&a.push(n)})),a.length>1&&!Dt(s,r)&&(s.push(r),n.push({alts:a,path:r}))})),n)),[]),c=(0,o.A)(a,(t=>{const i=(0,o.A)(t.alts,(t=>t+1)),s=r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:i,prefixPath:t.path});return{message:s,type:_n.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:t.alts}}));return c}function re(t,e,n,i){const r=(0,Q.A)(t,((t,e,n)=>{const i=(0,o.A)(e,(t=>({idx:n,path:t})));return t.concat(i)}),[]),s=(0,ht.A)((0,st.A)(r,(t=>{const s=e.definition[t.idx];if(!0===s.ignoreAmbiguities)return[];const a=t.idx,c=t.path,l=(0,ut.A)(r,(t=>!0!==e.definition[t.idx].ignoreAmbiguities&&t.idx<a&&Kt(t.path,c))),h=(0,o.A)(l,(t=>{const r=[t.idx+1,a+1],s=0===e.idx?"":e.idx,o=i.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:r,prefixPath:t.path});return{message:o,type:_n.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:s,alternatives:r}}));return h})));return s}function se(t,e,n){const r=[],s=(0,o.A)(e,(t=>t.name));return(0,i.A)(t,(t=>{const e=t.name;if((0,C.A)(s,e)){const i=n.buildNamespaceConflictError(t);r.push({message:i,type:_n.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:e})}})),r}function oe(t){const e=(0,nt.A)(t,{errMsgProvider:tt}),n={};return(0,i.A)(t.rules,(t=>{n[t.name]=t})),it(n,e.errMsgProvider)}function ae(t){return t=(0,nt.A)(t,{errMsgProvider:et}),Gt(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}var ce=n(6145);const le="MismatchedTokenException",he="NoViableAltException",ue="EarlyExitException",de="NotAllInputParsedException",fe=[le,he,ue,de];function Ae(t){return(0,C.A)(fe,t.name)}Object.freeze(fe);class pe extends Error{constructor(t,e){super(t),this.token=e,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class me extends pe{constructor(t,e,n){super(t,e),this.previousToken=n,this.name=le}}class Te extends pe{constructor(t,e,n){super(t,e),this.previousToken=n,this.name=he}}class Ee extends pe{constructor(t,e){super(t,e),this.name=de}}class Re extends pe{constructor(t,e,n){super(t,e),this.previousToken=n,this.name=ue}}const Ne={},Ie="InRuleRecoveryException";class Se extends Error{constructor(t){super(t),this.name=Ie}}class Oe{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,a.A)(t,"recoveryEnabled")?t.recoveryEnabled:kn.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Le)}getTokenToInsert(t){const e=(0,J.fx)(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return e.isInsertedInRecovery=!0,e}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,e,n,i){const r=this.findReSyncTokenType(),s=this.exportLexerState(),o=[];let a=!1;const c=this.LA(1);let l=this.LA(1);const h=()=>{const t=this.LA(0),e=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:c,previous:t,ruleName:this.getCurrRuleFullName()}),n=new me(e,c,this.LA(0));n.resyncedTokens=(0,ct.A)(o),this.SAVE_ERROR(n)};while(!a){if(this.tokenMatcher(l,i))return void h();if(n.call(this))return h(),void t.apply(this,e);this.tokenMatcher(l,r)?a=!0:(l=this.SKIP_TOKEN(),this.addToResyncTokens(l,o))}this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(t,e,n){return!1!==n&&(!this.tokenMatcher(this.LA(1),t)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,e))))}getFollowsForInRuleRecovery(t,e){const n=this.getCurrentGrammarPath(t,e),i=this.getNextPossibleTokenTypes(n);return i}tryInRuleRecovery(t,e){if(this.canRecoverWithSingleTokenInsertion(t,e)){const e=this.getTokenToInsert(t);return e}if(this.canRecoverWithSingleTokenDeletion(t)){const t=this.SKIP_TOKEN();return this.consumeToken(),t}throw new Se("sad sad panda")}canPerformInRuleRecovery(t,e){return this.canRecoverWithSingleTokenInsertion(t,e)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,e){if(!this.canTokenTypeBeInsertedInRecovery(t))return!1;if((0,s.A)(e))return!1;const n=this.LA(1),i=void 0!==(0,ce.A)(e,(t=>this.tokenMatcher(n,t)));return i}canRecoverWithSingleTokenDeletion(t){if(!this.canTokenTypeBeDeletedInRecovery(t))return!1;const e=this.tokenMatcher(this.LA(2),t);return e}isInCurrentRuleReSyncSet(t){const e=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(e);return(0,C.A)(n,t)}findReSyncTokenType(){const t=this.flattenFollowSet();let e=this.LA(1),n=2;while(1){const i=(0,ce.A)(t,(t=>{const n=(0,J.G)(e,t);return n}));if(void 0!==i)return i;e=this.LA(n),n++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return Ne;const t=this.getLastExplicitRuleShortName(),e=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:e,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const t=this.RULE_STACK,e=this.RULE_OCCURRENCE_STACK;return(0,o.A)(t,((n,i)=>0===i?Ne:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:e[i],inRule:this.shortRuleNameToFullName(t[i-1])}))}flattenFollowSet(){const t=(0,o.A)(this.buildFullFollowKeyStack(),(t=>this.getFollowSetFromFollowKey(t)));return(0,B.A)(t)}getFollowSetFromFollowKey(t){if(t===Ne)return[J.LT];const e=t.ruleName+t.idxInCallingRule+H+t.inRule;return this.resyncFollows[e]}addToResyncTokens(t,e){return this.tokenMatcher(t,J.LT)||e.push(t),e}reSyncTo(t){const e=[];let n=this.LA(1);while(!1===this.tokenMatcher(n,t))n=this.SKIP_TOKEN(),this.addToResyncTokens(n,e);return(0,ct.A)(e)}attemptInRepetitionRecovery(t,e,n,i,r,s,o){}getCurrentGrammarPath(t,e){const n=this.getHumanReadableRuleStack(),i=(0,c.A)(this.RULE_OCCURRENCE_STACK),r={ruleStack:n,occurrenceStack:i,lastTok:t,lastTokOccurrence:e};return r}getHumanReadableRuleStack(){return(0,o.A)(this.RULE_STACK,(t=>this.shortRuleNameToFullName(t)))}}function Le(t,e,n,i,r,s,o){const a=this.getKeyForAutomaticLookahead(i,r);let c=this.firstAfterRepMap[a];if(void 0===c){const t=this.getCurrRuleFullName(),e=this.getGAstProductions()[t],n=new s(e,r);c=n.startWalking(),this.firstAfterRepMap[a]=c}let l=c.token,h=c.occurrence;const u=c.isEndOfRule;1===this.RULE_STACK.length&&u&&void 0===l&&(l=J.LT,h=1),void 0!==l&&void 0!==h&&this.shouldInRepetitionRecoveryBeTried(l,h,o)&&this.tryInRepetitionRecovery(t,e,n,l)}const ge=4,ke=8,ye=1<<ke,_e=2<<ke,ve=3<<ke,xe=4<<ke,Pe=5<<ke,Ce=6<<ke;function Me(t,e,n){return n|e|t}class we{constructor(t){var e;this.maxLookahead=null!==(e=null===t||void 0===t?void 0:t.maxLookahead)&&void 0!==e?e:kn.maxLookahead}validate(t){const e=this.validateNoLeftRecursion(t.rules);if((0,s.A)(e)){const n=this.validateEmptyOrAlternatives(t.rules),i=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),r=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead),s=[...e,...n,...i,...r];return s}return e}validateNoLeftRecursion(t){return(0,st.A)(t,(t=>Xt(t,t,et)))}validateEmptyOrAlternatives(t){return(0,st.A)(t,(t=>Qt(t,et)))}validateAmbiguousAlternationAlternatives(t,e){return(0,st.A)(t,(t=>Zt(t,e,et)))}validateSomeNonEmptyLookaheadPath(t,e){return ne(t,e,et)}buildLookaheadForAlternation(t){return kt(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,_t)}buildLookaheadForOptional(t){return yt(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,gt(t.prodType),vt)}}class Fe{initLooksAhead(t){this.dynamicTokensEnabled=(0,a.A)(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:kn.dynamicTokensEnabled,this.maxLookahead=(0,a.A)(t,"maxLookahead")?t.maxLookahead:kn.maxLookahead,this.lookaheadStrategy=(0,a.A)(t,"lookaheadStrategy")?t.lookaheadStrategy:new we({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){(0,i.A)(t,(t=>{this.TRACE_INIT(`${t.name} Rule Lookahead`,(()=>{const{alternation:e,repetition:n,option:r,repetitionMandatory:s,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:a}=De(t);(0,i.A)(e,(e=>{const n=0===e.idx?"":e.idx;this.TRACE_INIT(`${U(e)}${n}`,(()=>{const n=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:e.idx,rule:t,maxLookahead:e.maxLookahead||this.maxLookahead,hasPredicates:e.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),i=Me(this.fullRuleNameToShort[t.name],ye,e.idx);this.setLaFuncCache(i,n)}))})),(0,i.A)(n,(e=>{this.computeLookaheadFunc(t,e.idx,ve,"Repetition",e.maxLookahead,U(e))})),(0,i.A)(r,(e=>{this.computeLookaheadFunc(t,e.idx,_e,"Option",e.maxLookahead,U(e))})),(0,i.A)(s,(e=>{this.computeLookaheadFunc(t,e.idx,xe,"RepetitionMandatory",e.maxLookahead,U(e))})),(0,i.A)(o,(e=>{this.computeLookaheadFunc(t,e.idx,Ce,"RepetitionMandatoryWithSeparator",e.maxLookahead,U(e))})),(0,i.A)(a,(e=>{this.computeLookaheadFunc(t,e.idx,Pe,"RepetitionWithSeparator",e.maxLookahead,U(e))}))}))}))}computeLookaheadFunc(t,e,n,i,r,s){this.TRACE_INIT(`${s}${0===e?"":e}`,(()=>{const s=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:e,rule:t,maxLookahead:r||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),o=Me(this.fullRuleNameToShort[t.name],n,e);this.setLaFuncCache(o,s)}))}getKeyForAutomaticLookahead(t,e){const n=this.getLastExplicitRuleShortName();return Me(n,t,e)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,e){this.lookAheadFuncsCache.set(t,e)}}class be extends x{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}}const Ue=new be;function De(t){Ue.reset(),t.accept(Ue);const e=Ue.dslMethods;return Ue.reset(),e}function Ke(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset===!0&&(t.endOffset=e.endOffset)}function $e(t,e){!0===isNaN(t.startOffset)?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset===!0&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function Be(t,e,n){void 0===t.children[n]?t.children[n]=[e]:t.children[n].push(e)}function Ge(t,e,n){void 0===t.children[e]?t.children[e]=[n]:t.children[e].push(n)}var Ve=n(2302),We=n(9592),Ye=n(7422),He=n(2049),je=n(9610);const ze="name";function Xe(t,e){Object.defineProperty(t,ze,{enumerable:!1,configurable:!0,writable:!1,value:e})}function Je(t,e){const n=(0,Ye.A)(t),i=n.length;for(let r=0;r<i;r++){const i=n[r],s=t[i],o=s.length;for(let t=0;t<o;t++){const n=s[t];void 0===n.tokenTypeIdx&&this[n.name](n.children,e)}}}function qe(t,e){const n=function(){};Xe(n,t+"BaseSemantics");const i={visit:function(t,e){if((0,He.A)(t)&&(t=t[0]),!(0,We.A)(t))return this[t.name](t.children,e)},validateVisitor:function(){const t=tn(this,e);if(!(0,s.A)(t)){const e=(0,o.A)(t,(t=>t.msg));throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${e.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return n.prototype=i,n.prototype.constructor=n,n._RULE_NAMES=e,n}function Qe(t,e,n){const r=function(){};Xe(r,t+"BaseSemanticsWithDefaults");const s=Object.create(n.prototype);return(0,i.A)(e,(t=>{s[t]=Je})),r.prototype=s,r.prototype.constructor=r,r}var Ze;function tn(t,e){const n=en(t,e);return n}function en(t,e){const n=(0,ut.A)(e,(e=>!1===(0,je.A)(t[e]))),i=(0,o.A)(n,(e=>({msg:`Missing visitor method: <${e}> on ${t.constructor.name} CST Visitor.`,type:Ze.MISSING_METHOD,methodName:e})));return(0,ht.A)(i)}(function(t){t[t["REDUNDANT_METHOD"]=0]="REDUNDANT_METHOD",t[t["MISSING_METHOD"]=1]="MISSING_METHOD"})(Ze||(Ze={}));class nn{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=(0,a.A)(t,"nodeLocationTracking")?t.nodeLocationTracking:kn.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=$e,this.setNodeLocationFromNode=$e,this.cstPostRule=Ve.A,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Ve.A,this.setNodeLocationFromNode=Ve.A,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ke,this.setNodeLocationFromNode=Ke,this.cstPostRule=Ve.A,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Ve.A,this.setNodeLocationFromNode=Ve.A,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`);this.setNodeLocationFromToken=Ve.A,this.setNodeLocationFromNode=Ve.A,this.cstPostRule=Ve.A,this.setInitialNodeLocation=Ve.A}else this.cstInvocationStateUpdate=Ve.A,this.cstFinallyStateUpdate=Ve.A,this.cstPostTerminal=Ve.A,this.cstPostNonTerminal=Ve.A,this.cstPostRule=Ve.A}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){const e=this.LA(1);t.location={startOffset:e.startOffset,startLine:e.startLine,startColumn:e.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){const e={name:t,children:Object.create(null)};this.setInitialNodeLocation(e),this.CST_STACK.push(e)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){const e=this.LA(0),n=t.location;n.startOffset<=e.startOffset===!0?(n.endOffset=e.endOffset,n.endLine=e.endLine,n.endColumn=e.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(t){const e=this.LA(0),n=t.location;n.startOffset<=e.startOffset===!0?n.endOffset=e.endOffset:n.startOffset=NaN}cstPostTerminal(t,e){const n=this.CST_STACK[this.CST_STACK.length-1];Be(n,e,t),this.setNodeLocationFromToken(n.location,e)}cstPostNonTerminal(t,e){const n=this.CST_STACK[this.CST_STACK.length-1];Ge(n,e,t),this.setNodeLocationFromNode(n.location,t.location)}getBaseCstVisitorConstructor(){if((0,We.A)(this.baseCstVisitorConstructor)){const t=qe(this.className,(0,Ye.A)(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if((0,We.A)(this.baseCstVisitorWithDefaultsConstructor)){const t=Qe(this.className,(0,Ye.A)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){const t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){const t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}}class rn{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):gn}LA(t){const e=this.currIdx+t;return e<0||this.tokVectorLength<=e?gn:this.tokVector[e]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class sn{ACTION(t){return t.call(this)}consume(t,e,n){return this.consumeInternal(e,t,n)}subrule(t,e,n){return this.subruleInternal(e,t,n)}option(t,e){return this.optionInternal(e,t)}or(t,e){return this.orInternal(e,t)}many(t,e){return this.manyInternal(t,e)}atLeastOne(t,e){return this.atLeastOneInternal(t,e)}CONSUME(t,e){return this.consumeInternal(t,0,e)}CONSUME1(t,e){return this.consumeInternal(t,1,e)}CONSUME2(t,e){return this.consumeInternal(t,2,e)}CONSUME3(t,e){return this.consumeInternal(t,3,e)}CONSUME4(t,e){return this.consumeInternal(t,4,e)}CONSUME5(t,e){return this.consumeInternal(t,5,e)}CONSUME6(t,e){return this.consumeInternal(t,6,e)}CONSUME7(t,e){return this.consumeInternal(t,7,e)}CONSUME8(t,e){return this.consumeInternal(t,8,e)}CONSUME9(t,e){return this.consumeInternal(t,9,e)}SUBRULE(t,e){return this.subruleInternal(t,0,e)}SUBRULE1(t,e){return this.subruleInternal(t,1,e)}SUBRULE2(t,e){return this.subruleInternal(t,2,e)}SUBRULE3(t,e){return this.subruleInternal(t,3,e)}SUBRULE4(t,e){return this.subruleInternal(t,4,e)}SUBRULE5(t,e){return this.subruleInternal(t,5,e)}SUBRULE6(t,e){return this.subruleInternal(t,6,e)}SUBRULE7(t,e){return this.subruleInternal(t,7,e)}SUBRULE8(t,e){return this.subruleInternal(t,8,e)}SUBRULE9(t,e){return this.subruleInternal(t,9,e)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,e,n=yn){if((0,C.A)(this.definedRulesNames,t)){const e=et.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),n={message:e,type:_n.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(n)}this.definedRulesNames.push(t);const i=this.defineRule(t,e,n);return this[t]=i,i}OVERRIDE_RULE(t,e,n=yn){const i=zt(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const r=this.defineRule(t,e,n);return this[t]=r,r}BACKTRACK(t,e){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return t.apply(this,e),!0}catch(i){if(Ae(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return _((0,r.A)(this.gastProductionsCache))}}var on=n(3149);class an{initRecognizerEngine(t,e){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Lt.yJ,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,a.A)(e,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if((0,He.A)(t)){if((0,s.A)(t))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"===typeof t[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if((0,He.A)(t))this.tokensMap=(0,Q.A)(t,((t,e)=>(t[e.name]=e,t)),{});else if((0,a.A)(t,"modes")&&(0,M.A)((0,B.A)((0,r.A)(t.modes)),Lt.E8)){const e=(0,B.A)((0,r.A)(t.modes)),n=(0,$.A)(e);this.tokensMap=(0,Q.A)(n,((t,e)=>(t[e.name]=e,t)),{})}else{if(!(0,on.A)(t))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=(0,c.A)(t)}this.tokensMap["EOF"]=J.LT;const n=(0,a.A)(t,"modes")?(0,B.A)((0,r.A)(t.modes)):(0,r.A)(t),i=(0,M.A)(n,(t=>(0,s.A)(t.categoryMatches)));this.tokenMatcher=i?Lt.yJ:Lt.xU,(0,Lt.SF)((0,r.A)(this.tokensMap))}defineRule(t,e,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=(0,a.A)(n,"resyncEnabled")?n.resyncEnabled:yn.resyncEnabled,r=(0,a.A)(n,"recoveryValueFunc")?n.recoveryValueFunc:yn.recoveryValueFunc,s=this.ruleShortNameIdx<<ge+ke;let o;this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=t,this.fullRuleNameToShort[t]=s,o=!0===this.outputCst?function(...n){try{this.ruleInvocationStateUpdate(s,t,this.subruleIdx),e.apply(this,n);const i=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(i),i}catch(o){return this.invokeRuleCatch(o,i,r)}finally{this.ruleFinallyStateUpdate()}}:function(...n){try{return this.ruleInvocationStateUpdate(s,t,this.subruleIdx),e.apply(this,n)}catch(o){return this.invokeRuleCatch(o,i,r)}finally{this.ruleFinallyStateUpdate()}};const c=Object.assign(o,{ruleName:t,originalGrammarAction:e});return c}invokeRuleCatch(t,e,n){const i=1===this.RULE_STACK.length,r=e&&!this.isBackTracking()&&this.recoveryEnabled;if(Ae(t)){const e=t;if(r){const i=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(i)){if(e.resyncedTokens=this.reSyncTo(i),this.outputCst){const t=this.CST_STACK[this.CST_STACK.length-1];return t.recoveredNode=!0,t}return n(t)}if(this.outputCst){const t=this.CST_STACK[this.CST_STACK.length-1];t.recoveredNode=!0,e.partialCstResult=t}throw e}if(i)return this.moveToTerminatedState(),n(t);throw e}throw t}optionInternal(t,e){const n=this.getKeyForAutomaticLookahead(_e,e);return this.optionInternalLogic(t,e,n)}optionInternalLogic(t,e,n){let i,r=this.getLaFuncFromCache(n);if("function"!==typeof t){i=t.DEF;const e=t.GATE;if(void 0!==e){const t=r;r=()=>e.call(this)&&t.call(this)}}else i=t;if(!0===r.call(this))return i.call(this)}atLeastOneInternal(t,e){const n=this.getKeyForAutomaticLookahead(xe,t);return this.atLeastOneInternalLogic(t,e,n)}atLeastOneInternalLogic(t,e,n){let i,r=this.getLaFuncFromCache(n);if("function"!==typeof e){i=e.DEF;const t=e.GATE;if(void 0!==t){const e=r;r=()=>t.call(this)&&e.call(this)}}else i=e;if(!0!==r.call(this))throw this.raiseEarlyExitException(t,Ot.REPETITION_MANDATORY,e.ERR_MSG);{let t=this.doSingleRepetition(i);while(!0===r.call(this)&&!0===t)t=this.doSingleRepetition(i)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,e],r,xe,t,Et)}atLeastOneSepFirstInternal(t,e){const n=this.getKeyForAutomaticLookahead(Ce,t);this.atLeastOneSepFirstInternalLogic(t,e,n)}atLeastOneSepFirstInternalLogic(t,e,n){const i=e.DEF,r=e.SEP,s=this.getLaFuncFromCache(n);if(!0!==s.call(this))throw this.raiseEarlyExitException(t,Ot.REPETITION_MANDATORY_WITH_SEPARATOR,e.ERR_MSG);{i.call(this);const e=()=>this.tokenMatcher(this.LA(1),r);while(!0===this.tokenMatcher(this.LA(1),r))this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,e,i,Rt],e,Ce,t,Rt)}}manyInternal(t,e){const n=this.getKeyForAutomaticLookahead(ve,t);return this.manyInternalLogic(t,e,n)}manyInternalLogic(t,e,n){let i,r=this.getLaFuncFromCache(n);if("function"!==typeof e){i=e.DEF;const t=e.GATE;if(void 0!==t){const e=r;r=()=>t.call(this)&&e.call(this)}}else i=e;let s=!0;while(!0===r.call(this)&&!0===s)s=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[t,e],r,ve,t,mt,s)}manySepFirstInternal(t,e){const n=this.getKeyForAutomaticLookahead(Pe,t);this.manySepFirstInternalLogic(t,e,n)}manySepFirstInternalLogic(t,e,n){const i=e.DEF,r=e.SEP,s=this.getLaFuncFromCache(n);if(!0===s.call(this)){i.call(this);const e=()=>this.tokenMatcher(this.LA(1),r);while(!0===this.tokenMatcher(this.LA(1),r))this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,e,i,Tt],e,Pe,t,Tt)}}repetitionSepSecondInternal(t,e,n,i,r){while(n())this.CONSUME(e),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,e,n,i,r],n,Ce,t,r)}doSingleRepetition(t){const e=this.getLexerPosition();t.call(this);const n=this.getLexerPosition();return n>e}orInternal(t,e){const n=this.getKeyForAutomaticLookahead(ye,e),i=(0,He.A)(t)?t:t.DEF,r=this.getLaFuncFromCache(n),s=r.call(this,i);if(void 0!==s){const t=i[s];return t.ALT.call(this)}this.raiseNoAltException(e,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){const t=this.LA(1),e=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Ee(e,t))}}subruleInternal(t,e,n){let i;try{const r=void 0!==n?n.ARGS:void 0;return this.subruleIdx=e,i=t.apply(this,r),this.cstPostNonTerminal(i,void 0!==n&&void 0!==n.LABEL?n.LABEL:t.ruleName),i}catch(r){throw this.subruleInternalError(r,n,t.ruleName)}}subruleInternalError(t,e,n){throw Ae(t)&&void 0!==t.partialCstResult&&(this.cstPostNonTerminal(t.partialCstResult,void 0!==e&&void 0!==e.LABEL?e.LABEL:n),delete t.partialCstResult),t}consumeInternal(t,e,n){let i;try{const e=this.LA(1);!0===this.tokenMatcher(e,t)?(this.consumeToken(),i=e):this.consumeInternalError(t,e,n)}catch(r){i=this.consumeInternalRecovery(t,e,r)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:t.name,i),i}consumeInternalError(t,e,n){let i;const r=this.LA(0);throw i=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:e,previous:r,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new me(i,e,r))}consumeInternalRecovery(t,e,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;{const r=this.getFollowsForInRuleRecovery(t,e);try{return this.tryInRuleRecovery(t,r)}catch(i){throw i.name===Ie?n:i}}}saveRecogState(){const t=this.errors,e=(0,c.A)(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:e,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,e,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(e)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){const t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),J.LT)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class cn{initErrorHandler(t){this._errors=[],this.errorMessageProvider=(0,a.A)(t,"errorMessageProvider")?t.errorMessageProvider:kn.errorMessageProvider}SAVE_ERROR(t){if(Ae(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,c.A)(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return(0,c.A)(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,e,n){const i=this.getCurrRuleFullName(),r=this.getGAstProductions()[i],s=Ut(t,r,e,this.maxLookahead),o=s[0],a=[];for(let l=1;l<=this.maxLookahead;l++)a.push(this.LA(l));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:a,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new Re(c,this.LA(1),this.LA(0)))}raiseNoAltException(t,e){const n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],r=bt(t,i,this.maxLookahead),s=[];for(let c=1;c<=this.maxLookahead;c++)s.push(this.LA(c));const o=this.LA(0),a=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:r,actual:s,previous:o,customUserDescription:e,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Te(a,this.LA(1),o))}}class ln{initContentAssist(){}computeContentAssist(t,e){const n=this.gastProductionsCache[t];if((0,We.A)(n))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return It([n],e,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){const e=(0,q.A)(t.ruleStack),n=this.getGAstProductions(),i=n[e],r=new At(i,t).startWalking();return r}}var hn=n(6495);const un={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(un);const dn=!0,fn=Math.pow(2,ke)-1,An=(0,J.Ey)({name:"RECORDING_PHASE_TOKEN",pattern:hn.J.NA});(0,Lt.SF)([An]);const pn=(0,J.fx)(An,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(pn);const mn={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};class Tn{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(()=>{for(let t=0;t<10;t++){const e=t>0?t:"";this[`CONSUME${e}`]=function(e,n){return this.consumeInternalRecord(e,t,n)},this[`SUBRULE${e}`]=function(e,n){return this.subruleInternalRecord(e,t,n)},this[`OPTION${e}`]=function(e){return this.optionInternalRecord(e,t)},this[`OR${e}`]=function(e){return this.orInternalRecord(e,t)},this[`MANY${e}`]=function(e){this.manyInternalRecord(t,e)},this[`MANY_SEP${e}`]=function(e){this.manySepFirstInternalRecord(t,e)},this[`AT_LEAST_ONE${e}`]=function(e){this.atLeastOneInternalRecord(t,e)},this[`AT_LEAST_ONE_SEP${e}`]=function(e){this.atLeastOneSepFirstInternalRecord(t,e)}}this["consume"]=function(t,e,n){return this.consumeInternalRecord(e,t,n)},this["subrule"]=function(t,e,n){return this.subruleInternalRecord(e,t,n)},this["option"]=function(t,e){return this.optionInternalRecord(e,t)},this["or"]=function(t,e){return this.orInternalRecord(e,t)},this["many"]=function(t,e){this.manyInternalRecord(t,e)},this["atLeastOne"]=function(t,e){this.atLeastOneInternalRecord(t,e)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD}))}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(()=>{const t=this;for(let e=0;e<10;e++){const n=e>0?e:"";delete t[`CONSUME${n}`],delete t[`SUBRULE${n}`],delete t[`OPTION${n}`],delete t[`OR${n}`],delete t[`MANY${n}`],delete t[`MANY_SEP${n}`],delete t[`AT_LEAST_ONE${n}`],delete t[`AT_LEAST_ONE_SEP${n}`]}delete t["consume"],delete t["subrule"],delete t["option"],delete t["or"],delete t["many"],delete t["atLeastOne"],delete t.ACTION,delete t.BACKTRACK,delete t.LA}))}ACTION_RECORD(t){}BACKTRACK_RECORD(t,e){return()=>!0}LA_RECORD(t){return gn}topLevelRuleRecord(t,e){try{const n=new R({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),e.call(this),this.recordingProdStack.pop(),n}catch(n){if(!0!==n.KNOWN_RECORDER_ERROR)try{n.message=n.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(i){throw n}throw n}}optionInternalRecord(t,e){return En.call(this,I,t,e)}atLeastOneInternalRecord(t,e){En.call(this,S,e,t)}atLeastOneSepFirstInternalRecord(t,e){En.call(this,O,e,t,dn)}manyInternalRecord(t,e){En.call(this,L,e,t)}manySepFirstInternalRecord(t,e){En.call(this,g,e,t,dn)}orInternalRecord(t,e){return Rn.call(this,t,e)}subruleInternalRecord(t,e,n){if(In(e),!t||!1===(0,a.A)(t,"ruleName")){const n=new Error(`<SUBRULE${Nn(e)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}const i=(0,dt.A)(this.recordingProdStack),r=t.ruleName,s=new E({idx:e,nonTerminalName:r,label:null===n||void 0===n?void 0:n.LABEL,referencedRule:void 0});return i.definition.push(s),this.outputCst?mn:un}consumeInternalRecord(t,e,n){if(In(e),!(0,Lt.Jx)(t)){const n=new Error(`<CONSUME${Nn(e)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw n.KNOWN_RECORDER_ERROR=!0,n}const i=(0,dt.A)(this.recordingProdStack),r=new y({idx:e,terminalType:t,label:null===n||void 0===n?void 0:n.LABEL});return i.definition.push(r),pn}}function En(t,e,n,i=!1){In(n);const r=(0,dt.A)(this.recordingProdStack),s=(0,je.A)(e)?e:e.DEF,o=new t({definition:[],idx:n});return i&&(o.separator=e.SEP),(0,a.A)(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(o),s.call(this),r.definition.push(o),this.recordingProdStack.pop(),un}function Rn(t,e){In(e);const n=(0,dt.A)(this.recordingProdStack),r=!1===(0,He.A)(t),s=!1===r?t:t.DEF,o=new k({definition:[],idx:e,ignoreAmbiguities:r&&!0===t.IGNORE_AMBIGUITIES});(0,a.A)(t,"MAX_LOOKAHEAD")&&(o.maxLookahead=t.MAX_LOOKAHEAD);const c=(0,P.A)(s,(t=>(0,je.A)(t.GATE)));return o.hasPredicates=c,n.definition.push(o),(0,i.A)(s,(t=>{const e=new N({definition:[]});o.definition.push(e),(0,a.A)(t,"IGNORE_AMBIGUITIES")?e.ignoreAmbiguities=t.IGNORE_AMBIGUITIES:(0,a.A)(t,"GATE")&&(e.ignoreAmbiguities=!0),this.recordingProdStack.push(e),t.ALT.call(this),this.recordingProdStack.pop()})),un}function Nn(t){return 0===t?"":`${t}`}function In(t){if(t<0||t>fn){const e=new Error(`Invalid DSL Method idx value: <${t}>\n\tIdx value must be a none negative value smaller than ${fn+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}var Sn=n(9);class On{initPerformanceTracer(t){if((0,a.A)(t,"traceInitPerf")){const e=t.traceInitPerf,n="number"===typeof e;this.traceInitMaxIdent=n?e:1/0,this.traceInitPerf=n?e>0:e}else this.traceInitMaxIdent=0,this.traceInitPerf=kn.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,e){if(!0===this.traceInitPerf){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--\x3e <${t}>`);const{time:i,value:r}=(0,Sn.O)(e),s=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${n}<-- <${t}> time: ${i}ms`),this.traceInitIndent--,r}return e()}}function Ln(t,e){e.forEach((e=>{const n=e.prototype;Object.getOwnPropertyNames(n).forEach((i=>{if("constructor"===i)return;const r=Object.getOwnPropertyDescriptor(n,i);r&&(r.get||r.set)?Object.defineProperty(t.prototype,i,r):t.prototype[i]=e.prototype[i]}))}))}const gn=(0,J.fx)(J.LT,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(gn);const kn=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Z,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),yn=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var _n;(function(t){t[t["INVALID_RULE_NAME"]=0]="INVALID_RULE_NAME",t[t["DUPLICATE_RULE_NAME"]=1]="DUPLICATE_RULE_NAME",t[t["INVALID_RULE_OVERRIDE"]=2]="INVALID_RULE_OVERRIDE",t[t["DUPLICATE_PRODUCTIONS"]=3]="DUPLICATE_PRODUCTIONS",t[t["UNRESOLVED_SUBRULE_REF"]=4]="UNRESOLVED_SUBRULE_REF",t[t["LEFT_RECURSION"]=5]="LEFT_RECURSION",t[t["NONE_LAST_EMPTY_ALT"]=6]="NONE_LAST_EMPTY_ALT",t[t["AMBIGUOUS_ALTS"]=7]="AMBIGUOUS_ALTS",t[t["CONFLICT_TOKENS_RULES_NAMESPACE"]=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t["INVALID_TOKEN_NAME"]=9]="INVALID_TOKEN_NAME",t[t["NO_NON_EMPTY_LOOKAHEAD"]=10]="NO_NON_EMPTY_LOOKAHEAD",t[t["AMBIGUOUS_PREFIX_ALTS"]=11]="AMBIGUOUS_PREFIX_ALTS",t[t["TOO_MANY_ALTS"]=12]="TOO_MANY_ALTS",t[t["CUSTOM_LOOKAHEAD_VALIDATION"]=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(_n||(_n={}));class vn{static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",(()=>{let t;this.selfAnalysisDone=!0;const e=this.className;this.TRACE_INIT("toFastProps",(()=>{(0,l.B)(this)})),this.TRACE_INIT("Grammar Recording",(()=>{try{this.enableRecording(),(0,i.A)(this.definedRulesNames,(t=>{const e=this[t],n=e["originalGrammarAction"];let i;this.TRACE_INIT(`${t} Rule`,(()=>{i=this.topLevelRuleRecord(t,n)})),this.gastProductionsCache[t]=i}))}finally{this.disableRecording()}}));let n=[];if(this.TRACE_INIT("Grammar Resolving",(()=>{n=oe({rules:(0,r.A)(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)})),this.TRACE_INIT("Grammar Validations",(()=>{if((0,s.A)(n)&&!1===this.skipValidations){const t=ae({rules:(0,r.A)(this.gastProductionsCache),tokenTypes:(0,r.A)(this.tokensMap),errMsgProvider:et,grammarName:e}),n=Bt({lookaheadStrategy:this.lookaheadStrategy,rules:(0,r.A)(this.gastProductionsCache),tokenTypes:(0,r.A)(this.tokensMap),grammarName:e});this.definitionErrors=this.definitionErrors.concat(t,n)}})),(0,s.A)(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",(()=>{const t=z((0,r.A)(this.gastProductionsCache));this.resyncFollows=t})),this.TRACE_INIT("ComputeLookaheadFunctions",(()=>{var t,e;null===(e=(t=this.lookaheadStrategy).initialize)||void 0===e||e.call(t,{rules:(0,r.A)(this.gastProductionsCache)}),this.preComputeLookaheadFunctions((0,r.A)(this.gastProductionsCache))}))),!vn.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,s.A)(this.definitionErrors))throw t=(0,o.A)(this.definitionErrors,(t=>t.message)),new Error(`Parser Definition Errors detected:\n ${t.join("\n-------------------------------\n")}`)}))}constructor(t,e){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(e),n.initLexerAdapter(),n.initLooksAhead(e),n.initRecognizerEngine(t,e),n.initRecoverable(e),n.initTreeBuilder(e),n.initContentAssist(),n.initGastRecorder(e),n.initPerformanceTracer(e),(0,a.A)(e,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=(0,a.A)(e,"skipValidations")?e.skipValidations:kn.skipValidations}}vn.DEFER_DEFINITION_ERRORS_HANDLING=!1,Ln(vn,[Oe,Fe,nn,rn,an,sn,cn,ln,Tn,On]);class xn extends vn{constructor(t,e=kn){const n=(0,c.A)(e);n.outputCst=!0,super(t,n)}}n(2566)}}]);
//# sourceMappingURL=385.28cd78c5.js.map