"use strict";(self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[]).push([[926],{2926:function(t,e,n){n.d(e,{XK:function(){return Ut}});var r={};n.r(r),n.d(r,{$and:function(){return $t},$not:function(){return mt},$or:function(){return Ot}});var o={};n.r(o),n.d(o,{$cmp:function(){return wt},$eq:function(){return ue},$gt:function(){return ae},$gte:function(){return le},$lt:function(){return fe},$lte:function(){return he},$ne:function(){return pe}});var s={};n.r(s),n.d(s,{$elemMatch:function(){return je},$slice:function(){return xe}});var i={};n.r(i),n.d(i,{$all:function(){return ve},$and:function(){return Be},$bitsAllClear:function(){return Se},$bitsAllSet:function(){return Ae},$bitsAnyClear:function(){return Ne},$bitsAnySet:function(){return Ie},$elemMatch:function(){return ke},$eq:function(){return Ce},$exists:function(){return Ue},$expr:function(){return qe},$gt:function(){return Pe},$gte:function(){return Re},$in:function(){return ze},$jsonSchema:function(){return Ve},$lt:function(){return Fe},$lte:function(){return Le},$mod:function(){return De},$ne:function(){return Ge},$nin:function(){return Te},$nor:function(){return Xe},$not:function(){return Ze},$or:function(){return Qe},$regex:function(){return Ke},$size:function(){return Ee},$type:function(){return _e},$where:function(){return We}});var c={};n.r(c),n.d(c,{$addToSet:function(){return rn},$bit:function(){return sn},$currentDate:function(){return cn},$inc:function(){return un},$max:function(){return an},$min:function(){return ln},$mul:function(){return fn},$pop:function(){return hn},$pull:function(){return pn},$pullAll:function(){return dn},$push:function(){return yn},$rename:function(){return $n},$set:function(){return bn},$unset:function(){return mn}});class u extends Error{}const a=Symbol("missing"),l=Object.freeze(new Error("mingo: cycle detected while processing object/array")),f=t=>{const e=K(t);let n=0,r=e.length;while(r)n=(n<<5)-n^e.charCodeAt(--r);return n>>>0},h=t=>"object"!==typeof t&&"function"!==typeof t||null===t,p=t=>h(t)||M(t)||S(t),d={undefined:1,null:2,number:3,string:4,symbol:5,object:6,array:7,arraybuffer:8,boolean:9,date:10,regexp:11,function:12},g=(t,e)=>{t===a&&(t=void 0),e===a&&(e=void 0);const[n,r]=[t,e].map((t=>d[m(t)]||0));return n!==r?n-r:V(t,e)?0:t<e?-1:t>e?1:0};class y extends Map{#t=f;#e=new Map;#n=t=>{const e=this.#t(t);return[(this.#e.get(e)||[]).find((e=>V(e,t))),e]};constructor(){super()}static init(t){const e=new y;return t&&(e.#t=t),e}clear(){super.clear(),this.#e.clear()}delete(t){if(h(t))return super.delete(t);const[e,n]=this.#n(t);return!!super.delete(e)&&(this.#e.set(n,this.#e.get(n).filter((t=>!V(t,e)))),!0)}get(t){if(h(t))return super.get(t);const[e,n]=this.#n(t);return super.get(e)}has(t){if(h(t))return super.has(t);const[e,n]=this.#n(t);return super.has(e)}set(t,e){if(h(t))return super.set(t,e);const[n,r]=this.#n(t);if(super.has(n))super.set(n,e);else{super.set(t,e);const n=this.#e.get(r)||[];n.push(t),this.#e.set(r,n)}return this}get size(){return super.size}}function b(t,e){if(!t)throw new u(e)}const $=Object.keys(d).reduce(((t,e)=>(t["[object "+e[0].toUpperCase()+e.substring(1)+"]"]=e,t)),{});function m(t){const e=Object.prototype.toString.call(t);return"[object Object]"===e?t?.constructor?.name?.toLowerCase()||"object":$[e]||e.substring(8,e.length-1).toLowerCase()}const O=t=>"boolean"===typeof t,w=t=>"string"===typeof t,j=t=>"symbol"===typeof t,x=t=>!isNaN(t)&&"number"===typeof t,v=Array.isArray;function k(t){if(!t)return!1;const e=Object.getPrototypeOf(t);return(e===Object.prototype||null===e)&&"object"===m(t)}const E=t=>!h(t),M=t=>t instanceof Date,S=t=>t instanceof RegExp,A=t=>"function"===typeof t,N=t=>null===t||void 0===t,I=(t,e=!0)=>!!t||e&&""===t,C=t=>N(t)||w(t)&&!t||v(t)&&0===t.length||k(t)&&0===Object.keys(t).length,P=t=>v(t)?t:[t],R=(t,e)=>!!t&&Object.prototype.hasOwnProperty.call(t,e),z=t=>"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView(t),F=(t,e)=>{if(N(t)||O(t)||x(t)||w(t))return t;if(M(t))return new Date(t);if(S(t))return new RegExp(t);if(z(t)){const e=t.constructor;return new e(t)}if(e instanceof Set||(e=new Set),e.has(t))throw l;e.add(t);try{if(v(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=F(t[r],e);return n}if(k(t)){const n={};for(const r of Object.keys(t))n[r]=F(t[r],e);return n}}finally{e.delete(t)}return t},L=t=>t===a;function G(t,e){if(L(t)||N(t))return e;if(L(e)||N(e))return t;if(h(t)||h(e))return e;v(t)&&v(e)&&b(t.length===e.length,"arrays must be of equal length to merge.");for(const n of Object.keys(e))t[n]=G(t[n],e[n]);return t}function T(t,e=f){const n=[y.init(e),y.init(e)];if(0===t.length)return[];if(t.some((t=>0===t.length)))return[];if(1===t.length)return[...t];t[t.length-1].forEach((t=>n[0].set(t,!0)));for(let r=t.length-2;r>-1;r--){if(t[r].forEach((t=>{n[0].has(t)&&n[1].set(t,!0)})),0===n[1].size)return[];n.reverse(),n[1].clear()}return Array.from(n[0].keys())}function U(t,e=1){const n=new Array;function r(t,e){for(let o=0,s=t.length;o<s;o++)v(t[o])&&(e>0||e<0)?r(t[o],Math.max(-1,e-1)):n.push(t[o])}return r(t,e),n}function _(t){const e={};while(t){for(const n of Object.getOwnPropertyNames(t))n in e||(e[n]=t[n]);t=Object.getPrototypeOf(t)}return e}function q(t){while(t){if(Object.getOwnPropertyNames(t).includes("toString"))return t["toString"]!==Object.prototype.toString;t=Object.getPrototypeOf(t)}return!1}function V(t,e){if(t===e||Object.is(t,e))return!0;if(null===t||null===e)return!1;if(typeof t!==typeof e)return!1;if("object"!==typeof t)return!1;if(t.constructor!==e.constructor)return!1;if(t instanceof Date)return+t===+e;if(t instanceof RegExp)return t.toString()===e.toString();const n=t.constructor;if(n===Array||n===Object){const n=Object.keys(t).sort(),r=Object.keys(e).sort();if(n.length!==r.length)return!1;for(let o=0,s=n[o];o<n.length;s=n[++o])if(s!==r[o]||!V(t[s],e[s]))return!1;return!0}return q(t)&&t.toString()===e.toString()}function D(t,e=f){const n=y.init(e);return t.forEach((t=>n.set(t,!0))),Array.from(n.keys())}const K=(t,e)=>{if(null===t)return"null";if(void 0===t)return"undefined";if(w(t)||x(t)||O(t))return JSON.stringify(t);if(M(t))return t.toISOString();if(S(t)||j(t)||A(t))return t.toString();if(e instanceof Set||(e=new Set),e.has(t))throw l;try{if(e.add(t),v(t))return"["+t.map((t=>K(t,e))).join(",")+"]";if(k(t)){const n=Object.keys(t).sort();return"{"+n.map((n=>`${n}:${K(t[n],e)}`)).join()+"}"}const n=q(t)?t.toString():K(_(t),e);return m(t)+"("+n+")"}finally{e.delete(t)}};function W(t,e){return N(t)?null:(e=e||f,e(t))}function B(t,e,n=f){if(t.length<1)return new Map;const r=new Map,o=new Map;for(let s=0;s<t.length;s++){const i=t[s],c=e(i,s),u=W(c,n);if(null===u)o.has(null)?o.get(null).push(i):o.set(null,[i]);else{const t=r.has(u)?r.get(u).find((t=>V(t,c))):null;N(t)?(o.set(c,[i]),r.has(u)?r.get(u).push(c):r.set(u,[c])):o.get(t).push(i)}}return o}function Q(t,e){return E(t)?t[e]:void 0}function X(t,e){if(e<1)return t;while(e--&&1===t.length)t=t[0];return t}function Z(t,e,n){let r=0;function o(t,e){let n=t;for(let s=0;s<e.length;s++){const t=e[s],i=null===/^\d+$/.exec(t);if(i&&v(n)){if(0===s&&r>0)break;r+=1;const t=e.slice(s);n=n.reduce(((e,n)=>{const r=o(n,t);return void 0!==r&&e.push(r),e}),[]);break}if(n=Q(n,t),void 0===n)break}return n}const s=p(t)?t:o(t,e.split("."));return v(s)&&n?.unwrapArray?X(s,r):s}function H(t,e,n){const r=e.indexOf("."),o=-1==r?e:e.substring(0,r),s=e.substring(r+1),i=-1!=r;if(v(t)){const r=/^\d+$/.test(o),c=r&&n?.preserveIndex?[...t]:[];if(r){const e=parseInt(o);let r=Q(t,e);i&&(r=H(r,s,n)),n?.preserveIndex?c[e]=r:c.push(r)}else for(const o of t){const t=H(o,e,n);n?.preserveMissing?c.push(void 0==t?a:t):(void 0!=t||n?.preserveIndex)&&c.push(t)}return c}const c=n?.preserveKeys?{...t}:{};let u=Q(t,o);if(i&&(u=H(u,s,n)),void 0!==u)return c[o]=u,c}function J(t){if(v(t))for(let e=t.length-1;e>=0;e--)t[e]===a?t.splice(e,1):J(t[e]);else if(k(t))for(const e in t)R(t,e)&&J(t[e])}const Y=/^\d+$/;function tt(t,e,n,r){const o=e.split("."),s=o[0],i=o.slice(1).join(".");if(1===o.length)(k(t)||v(t)&&Y.test(s))&&n(t,s);else{r?.buildGraph&&N(t[s])&&(t[s]={});const e=t[s];if(!e)return;const c=!!(o.length>1&&Y.test(o[1]));v(e)&&r?.descendArray&&!c?e.forEach((t=>tt(t,i,n,r))):tt(e,i,n,r)}}function et(t,e,n){tt(t,e,((t,e)=>{t[e]=A(n)?n(t[e]):n}),{buildGraph:!0})}function nt(t,e,n){tt(t,e,((t,e)=>{if(v(t)){if(/^\d+$/.test(e))t.splice(parseInt(e),1);else if(n&&n.descendArray)for(const n of t)k(n)&&delete n[e]}else k(t)&&delete t[e]}),n)}const rt=/^\$[a-zA-Z0-9_]+$/;function ot(t){return rt.test(t)}function st(t){if(p(t))return S(t)?{$regex:t}:{$eq:t};if(E(t)){if(!Object.keys(t).some(ot))return{$eq:t};if(R(t,"$regex")){const e={...t};return e["$regex"]=new RegExp(t["$regex"],t["$options"]),delete e["$options"],e}}return t}var it=(t=>(t[t["CLONE_OFF"]=0]="CLONE_OFF",t[t["CLONE_INPUT"]=1]="CLONE_INPUT",t[t["CLONE_OUTPUT"]=2]="CLONE_OUTPUT",t[t["CLONE_ALL"]=3]="CLONE_ALL",t))(it||{});class ct{#r;#o;#s;constructor(t,e,n){this.#r=t,this.update(e,n)}static init(t,e,n){return t instanceof ct?new ct(t.#r,t.root??e,{...t.#s,...n,variables:Object.assign({},t.#s?.variables,n?.variables)}):new ct(t,e,n)}update(t,e){this.#o=t;const n=Object.assign({},this.#s?.variables,e?.variables);return Object.keys(n).length?this.#s={...e,variables:n}:this.#s=e??{},this}getOptions(){return Object.freeze({...this.#r,context:at.from(this.#r.context)})}get root(){return this.#o}get local(){return this.#s}get idKey(){return this.#r.idKey}get collation(){return this.#r?.collation}get processingMode(){return this.#r?.processingMode||0}get useStrictMode(){return this.#r?.useStrictMode}get scriptEnabled(){return this.#r?.scriptEnabled}get useGlobalContext(){return this.#r?.useGlobalContext}get hashFunction(){return this.#r?.hashFunction}get collectionResolver(){return this.#r?.collectionResolver}get jsonSchemaValidator(){return this.#r?.jsonSchemaValidator}get variables(){return this.#r?.variables}get context(){return this.#r?.context}}function ut(t){return t instanceof ct?t.getOptions():Object.freeze({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:0,...t,context:t?.context?at.from(t?.context):at.init()})}class at{#i=new Map;constructor(){}static init(){return new at}static from(t){const e=at.init();return N(t)||t.#i.forEach(((t,n)=>e.addOperators(n,t))),e}addOperators(t,e){this.#i.has(t)||this.#i.set(t,{});for(const[n,r]of Object.entries(e))this.getOperator(t,n)||(this.#i.get(t)[n]=r);return this}getOperator(t,e){const n=this.#i.get(t)??{};return n[e]??null}addAccumulatorOps(t){return this.addOperators("accumulator",t)}addExpressionOps(t){return this.addOperators("expression",t)}addQueryOps(t){return this.addOperators("query",t)}addPipelineOps(t){return this.addOperators("pipeline",t)}addProjectionOps(t){return this.addOperators("projection",t)}addWindowOps(t){return this.addOperators("window",t)}}const lt=at.init();function ft(t,e){for(const[n,r]of Object.entries(e)){b(A(r)&&ot(n),`'${n}' is not a valid operator`);const e=ht(t,n,null);b(!e||r===e,`${n} already exists for '${t}' operators. Cannot change operator function once registered.`)}switch(t){case"accumulator":lt.addAccumulatorOps(e);break;case"expression":lt.addExpressionOps(e);break;case"pipeline":lt.addPipelineOps(e);break;case"projection":lt.addProjectionOps(e);break;case"query":lt.addQueryOps(e);break;case"window":lt.addWindowOps(e);break}}function ht(t,e,n){const{context:r,useGlobalContext:o}=n||{},s=r?r.getOperator(t,e):null;return!s&&o?lt.getOperator(t,e):s}function pt(t,e,n,r){const o=ct.init(r,t);return n&&ot(n)?yt(t,e,n,o):gt(t,e,o)}const dt=["$$ROOT","$$CURRENT","$$REMOVE","$$NOW"];function gt(t,e,n){if(w(e)&&e.length>0&&"$"===e[0]){if(bt.includes(e))return e;let r=n.root;const o=e.split(".");if(dt.includes(o[0])){switch(o[0]){case"$$ROOT":break;case"$$CURRENT":r=t;break;case"$$REMOVE":r=void 0;break;case"$$NOW":r=new Date;break}e=e.slice(o[0].length+1)}else if("$$"===o[0].slice(0,2)){r=Object.assign({},n.variables,{this:t},n?.local?.variables);const s=o[0].slice(2);b(R(r,s),`Use of undefined variable: ${s}`),e=e.slice(2)}else e=e.slice(1);return""===e?r:Z(r,e)}if(v(e))return e.map((e=>gt(t,e,n)));if(k(e)){const r={},o=Object.entries(e);for(const[e,s]of o){if(ot(e))return b(1==o.length,"expression must have single operator."),yt(t,s,e,n);r[e]=gt(t,s,n)}return r}return e}function yt(t,e,n,r){const o=ht("expression",n,r);if(o)return o(t,e,r);const s=ht("accumulator",n,r);return b(!!s,`accumulator '${n}' is not registered.`),v(t)||(t=gt(t,e,r),e=null),b(v(t),`arguments must resolve to array for ${n}.`),s(t,e,r)}const bt=["$$KEEP","$$PRUNE","$$DESCEND"];const $t=(t,e,n)=>{const r=pt(t,e,null,n);return I(r,n.useStrictMode)&&r.every((t=>I(t,n.useStrictMode)))},mt=(t,e,n)=>{const r=P(e);return 0!=r.length&&(b(1==r.length,"Expression $not takes exactly 1 argument"),!pt(t,r[0],null,n))},Ot=(t,e,n)=>{const r=pt(t,e,null,n),o=n.useStrictMode;return I(r,o)&&r.some((t=>I(t,o)))},wt=(t,e,n)=>{const r=pt(t,e,null,n);return b(v(r)&&2==r.length,"$cmp: expression must resolve to array of size 2."),g(r[0],r[1])};function jt(t){return t instanceof St?t:new St(t)}function xt(...t){let e=0;return jt((()=>{while(e<t.length){const n=t[e].next();if(!n.done)return n;e++}return{done:!0}}))}function vt(t){return!!t&&"object"===typeof t&&t?.next instanceof Function}function kt(t,e){const n=t.slice(e+1);t.splice(e),Array.prototype.push.apply(t,n)}const Et=new Error;function Mt(t,e,n){let r=!1,o=-1,s=0;return function(i){try{t:while(!r){let c=t();o++;let u=-1;const a=e.length;let l=!1;while(++u<a){const t=e[u];switch(t.action){case 0:c=t.func(c,o);break;case 1:if(!t.func(c,o))continue t;break;case 2:--t.count,t.count||(l=!0);break;case 3:--t.count,t.count||kt(e,u);continue t;default:break t}}if(r=l,!i)return{value:c,done:!1};n[s++]=c}}catch(c){if(c!==Et)throw c}return r=!0,{done:r}}}class St{constructor(t){let e;if(this.#c=[],this.#u=[],this.isDone=!1,t instanceof Function&&(t={next:t}),vt(t)){const n=t;e=()=>{const t=n.next();if(t.done)throw Et;return t.value}}else if(v(t)){const n=t,r=n.length;let o=0;e=()=>{if(o<r)return n[o++];throw Et}}else if(!(t instanceof Function))throw new u("Lazy must be initialized with an array, generator, or function.");this.#a=Mt(e,this.#c,this.#u)}#c;#u;#a;push(t,e){return"function"===typeof e?this.#c.push({action:t,func:e}):"number"===typeof e&&this.#c.push({action:t,count:e}),this}next(){return this.#a()}map(t){return this.push(0,t)}filter(t){return this.push(1,t)}take(t){return t>0?this.push(2,t):this}drop(t){return t>0?this.push(3,t):this}transform(t){const e=this;let n;return jt((()=>(n||(n=jt(t(e.value()))),n.next())))}value(){return this.isDone||(this.isDone=this.#a(!0).done),this.#u}each(t){for(;;){const e=this.next();if(e.done)break;if(!1===t(e.value))return!1}return!0}reduce(t,e){let n=this.next();void 0!==e||n.done||(e=n.value,n=this.next());while(!n.done)e=t(e,n.value),n=this.next();return e}size(){return this.reduce(((t,e)=>++t),0)}[Symbol.iterator](){return this}}const At=(t,e,n)=>t.take(e),Nt=(t,e,n)=>C(e)?t:(Ct(e,n),t.map(It(e,ct.init(n))));function It(t,e,n=!0){const r=e.idKey,o=Object.keys(t),s=new Array,i=new Array,c={};for(const p of o){const r=t[p];if(x(r)||O(r))r?i.push(p):s.push(p);else if(v(r))c[p]=t=>r.map((n=>pt(t,n,null,e.update(t))??null));else if(k(r)){const t=Object.keys(r),o=1==t.length?t[0]:"",s=ht("projection",o,e);if(s){const t="$slice"===o;t&&!P(r[o]).every(x)?c[p]=t=>pt(t,r,p,e.update(t)):c[p]=t=>s(t,r[o],p,e.update(t))}else ot(o)?c[p]=t=>pt(t,r[o],o,e):(Ct(r,e),c[p]=t=>{if(!R(t,p))return pt(t,r,null,e);n&&e.update(t);const o=Z(t,p),s=It(r,e,!1);return v(o)?o.map(s):k(o)?s(o):s(t)})}else c[p]=w(r)&&"$"===r[0]?t=>pt(t,r,p,e):t=>r}const u=Object.keys(c),a=s.includes(r),l=n&&a&&1===s.length&&!i.length&&!u.length;if(l)return t=>{const e={...t};return delete e[r],e};const f=n&&!a&&!i.includes(r),h={preserveMissing:!0};return t=>{const e={};if(s.length&&!i.length){G(e,t);for(const t of s)nt(e,t,{descendArray:!0})}for(const n of i){const r=H(t,n,h)??{};G(e,r)}i.length&&J(e);for(const n of u){const r=c[n](t);void 0===r?nt(e,n,{descendArray:!0}):et(e,n,r)}return f&&R(t,r)&&(e[r]=Z(t,r)),e}}function Ct(t,e){let n=!1,r=!1;for(const[o,s]of Object.entries(t))b(!o.startsWith("$"),"Field names may not start with '$'."),b(!o.endsWith(".$"),"Positional projection operator '$' is not supported."),o!==e?.idKey&&(0===s||!1===s?n=!0:1!==s&&!0!==s||(r=!0),b(!(n&&r),"Projection cannot have a mix of inclusion and exclusion."))}const Pt=(t,e,n)=>t.drop(e),Rt=(t,e,n)=>{if(C(e)||!k(e))return t;let r=g;const o=n.collation;return k(o)&&w(o.locale)&&(r=Ft(o)),t.transform((t=>{const o=Object.keys(e);for(const s of o.reverse()){const o=B(t,(t=>Z(t,s)),n.hashFunction),i=Array.from(o.keys()).sort(r);-1===e[s]&&i.reverse();let c=0;for(const e of i)for(const n of o.get(e))t[c++]=n;b(c==t.length,"bug: counter must match collection size.")}return t}))},zt={1:"base",2:"accent",3:"variant"};function Ft(t){const e={sensitivity:zt[t.strength||3],caseFirst:"off"===t.caseFirst?"false":t.caseFirst||"false",numeric:t.numericOrdering||!1,ignorePunctuation:"shifted"===t.alternate};!0===(t.caseLevel||!1)&&("base"===e.sensitivity&&(e.sensitivity="case"),"accent"===e.sensitivity&&(e.sensitivity="variant"));const n=new Intl.Collator(t.locale,e);return(t,e)=>{if(!w(t)||!w(e))return g(t,e);const r=n.compare(t,e);return r<0?-1:r>0?1:0}}const Lt={$sort:Rt,$skip:Pt,$limit:At};class Gt{#l;#f;#h;#r;#i={};#p=null;#d=[];constructor(t,e,n,r){this.#l=t,this.#f=e,this.#h=n,this.#r=r}fetch(){if(this.#p)return this.#p;this.#p=jt(this.#l).filter(this.#f);const t=this.#r.processingMode;t&it.CLONE_INPUT&&this.#p.map(F);for(const e of["$sort","$skip","$limit"])R(this.#i,e)&&(this.#p=Lt[e](this.#p,this.#i[e],this.#r));return Object.keys(this.#h).length&&(this.#p=Nt(this.#p,this.#h,this.#r)),t&it.CLONE_OUTPUT&&this.#p.map(F),this.#p}fetchAll(){const t=jt([...this.#d]);return this.#d=[],xt(t,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(t){return this.#i["$skip"]=t,this}limit(t){return this.#i["$limit"]=t,this}sort(t){return this.#i["$sort"]=t,this}collation(t){return this.#r={...this.#r,collation:t},this}next(){if(this.#d.length>0)return this.#d.pop();const t=this.fetch().next();return t.done?void 0:t.value}hasNext(){if(this.#d.length>0)return!0;const t=this.fetch().next();return!t.done&&(this.#d.push(t.value),!0)}map(t){return this.all().map(t)}forEach(t){this.all().forEach(t)}[Symbol.iterator](){return this.fetchAll()}}const Tt=new Set(Array.from(["$and","$or","$nor","$expr","$jsonSchema"]));class Ut{#g;#r;#y;constructor(t,e){this.#y=F(t),this.#r=ut(e),this.#g=[],this.compile()}compile(){b(k(this.#y),`query criteria must be an object: ${JSON.stringify(this.#y)}`);const t={};for(const[e,n]of Object.entries(this.#y)){if("$where"===e)b(this.#r.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true."),Object.assign(t,{field:e,expr:n});else if(Tt.has(e))this.processOperator(e,e,n);else{b(!ot(e),`unknown top level operator: ${e}`);for(const[t,r]of Object.entries(st(n)))this.processOperator(e,t,r)}t.field&&this.processOperator(t.field,t.field,t.expr)}}processOperator(t,e,n){const r=ht("query",e,this.#r);b(!!r,`unknown query operator ${e}`),this.#g.push(r(t,n,this.#r))}test(t){return this.#g.every((e=>e(t)))}find(t,e){return new Gt(t,(t=>this.test(t)),e||{},this.#r)}remove(t){return t.reduce(((t,e)=>(this.test(e)||t.push(e),t)),[])}}function _t(t){const e=(e,n,r)=>{const o={unwrapArray:!0},s=Math.max(1,e.split(".").length-1);return i=>{const c=Z(i,e,o);return t(c,n,{...r,depth:s})}};return e}function qt(t){return(e,n,r)=>{const o=pt(e,n,null,r);return t(...o)}}function Vt(t,e,n){return!!V(t,e)||(!(!N(t)||!N(e))||!!v(t)&&(t.some((t=>V(t,e)))||U(t,n?.depth).some((t=>V(t,e)))))}function Dt(t,e,n){return!Vt(t,e,n)}function Kt(t,e,n){return N(t)?e.some((t=>null===t)):T([P(t),e],n?.hashFunction).length>0}function Wt(t,e,n){return!Kt(t,e,n)}function Bt(t,e,n){return ce(t,e,((t,e)=>g(t,e)<0))}function Qt(t,e,n){return ce(t,e,((t,e)=>g(t,e)<=0))}function Xt(t,e,n){return ce(t,e,((t,e)=>g(t,e)>0))}function Zt(t,e,n){return ce(t,e,((t,e)=>g(t,e)>=0))}function Ht(t,e,n){return P(t).some((t=>2===e.length&&t%e[0]===e[1]))}function Jt(t,e,n){const r=P(t),o=t=>w(t)&&I(e.exec(t),n?.useStrictMode);return r.some(o)||U(r,1).some(o)}function Yt(t,e,n){if(!v(t)||!v(e)||!t.length||!e.length)return!1;let r=!0;for(const o of e){if(!r)break;r=k(o)&&Object.keys(o).includes("$elemMatch")?ne(t,o["$elemMatch"],n):S(o)?t.some((t=>"string"===typeof t&&o.test(t))):t.some((t=>V(o,t)))}return r}function te(t,e,n){return Array.isArray(t)&&t.length===e}function ee(t){return ot(t)&&-1===["$and","$or","$nor"].indexOf(t)}function ne(t,e,n){if(v(t)&&!C(t)){let r=t=>t,o=e;Object.keys(e).every(ee)&&(o={temp:e},r=t=>({temp:t}));const s=new Ut(o,n);for(let e=0,n=t.length;e<n;e++)if(s.test(r(t[e])))return!0}return!1}const re=t=>null===t,oe={array:v,boolean:O,bool:O,date:M,number:x,int:x,long:x,double:x,decimal:x,null:re,object:k,regexp:S,regex:S,string:w,undefined:N,function:t=>{throw new u("unsupported type key `function`.")},1:x,2:w,3:k,4:v,6:N,8:O,9:M,10:re,11:S,16:x,18:x,19:x};function se(t,e,n){const r=oe[e];return!!r&&r(t)}function ie(t,e,n){return v(e)?e.findIndex((e=>se(t,e,n)))>=0:se(t,e,n)}function ce(t,e,n){return P(t).some((t=>m(t)===m(e)&&n(t,e)))}const ue=qt(Vt),ae=qt(Xt),le=qt(Zt),fe=qt(Bt),he=qt(Qt),pe=qt(Dt);Object.freeze({R5:[10,16,25,40,63],R10:[100,125,160,200,250,315,400,500,630,800],R20:[100,112,125,140,160,180,200,224,250,280,315,355,400,450,500,560,630,710,800,900],R40:[100,106,112,118,125,132,140,150,160,170,180,190,200,212,224,236,250,265,280,300,315,355,375,400,425,450,475,500,530,560,600,630,670,710,750,800,850,900,950],R80:[103,109,115,122,128,136,145,155,165,175,185,195,206,218,230,243,258,272,290,307,325,345,365,387,412,437,462,487,515,545,575,615,650,690,730,775,825,875,925,975],"1-2-5":[10,20,50],E6:[10,15,22,33,47,68],E12:[10,12,15,18,22,27,33,39,47,56,68,82],E24:[10,11,12,13,15,16,18,20,22,24,27,30,33,36,39,43,47,51,56,62,68,75,82,91],E48:[100,105,110,115,121,127,133,140,147,154,162,169,178,187,196,205,215,226,237,249,261,274,287,301,316,332,348,365,383,402,422,442,464,487,511,536,562,590,619,649,681,715,750,787,825,866,909,953],E96:[100,102,105,107,110,113,115,118,121,124,127,130,133,137,140,143,147,150,154,158,162,165,169,174,178,182,187,191,196,200,205,210,215,221,226,232,237,243,249,255,261,267,274,280,287,294,301,309,316,324,332,340,348,357,365,374,383,392,402,412,422,432,442,453,464,475,487,499,511,523,536,549,562,576,590,604,619,634,649,665,681,698,715,732,750,768,787,806,825,845,866,887,909,931,953,976],E192:[100,101,102,104,105,106,107,109,110,111,113,114,115,117,118,120,121,123,124,126,127,129,130,132,133,135,137,138,140,142,143,145,147,149,150,152,154,156,158,160,162,164,165,167,169,172,174,176,178,180,182,184,187,189,191,193,196,198,200,203,205,208,210,213,215,218,221,223,226,229,232,234,237,240,243,246,249,252,255,258,261,264,267,271,274,277,280,284,287,291,294,298,301,305,309,312,316,320,324,328,332,336,340,344,348,352,357,361,365,370,374,379,383,388,392,397,402,407,412,417,422,427,432,437,442,448,453,459,464,470,475,481,487,493,499,505,511,517,523,530,536,542,549,556,562,569,576,583,590,597,604,612,619,626,634,642,649,657,665,673,681,690,698,706,715,723,732,741,750,759,768,777,787,796,806,816,825,835,845,856,866,876,887,898,909,920,931,942,953,965,976,988]});const de=["monday","mon","tuesday","tue","wednesday","wed","thursday","thu","friday","fri","saturday","sat","sunday","sun"];new Set(de),Object.freeze({mon:1,tue:2,wed:3,thu:4,fri:5,sat:6,sun:7}),Object.freeze({"%Y":{name:"year",padding:4,re:/([0-9]{4})/},"%G":{name:"year",padding:4,re:/([0-9]{4})/},"%m":{name:"month",padding:2,re:/(0[1-9]|1[012])/},"%d":{name:"day",padding:2,re:/(0[1-9]|[12][0-9]|3[01])/},"%H":{name:"hour",padding:2,re:/([01][0-9]|2[0-3])/},"%M":{name:"minute",padding:2,re:/([0-5][0-9])/},"%S":{name:"second",padding:2,re:/([0-5][0-9]|60)/},"%L":{name:"millisecond",padding:3,re:/([0-9]{3})/},"%u":{name:"weekday",padding:1,re:/([1-7])/},"%U":{name:"week",padding:2,re:/([1-4][0-9]?|5[0-3]?)/},"%V":{name:"isoWeek",padding:2,re:/([1-4][0-9]?|5[0-3]?)/},"%z":{name:"timezone",padding:2,re:/(([+-][01][0-9]|2[0-3]):?([0-5][0-9])?)/},"%Z":{name:"minuteOffset",padding:3,re:/([+-][0-9]{3})/}});Object.freeze({});qt(Wt);const ge=(t,e,n)=>{const r=pt(t,e,null,n),o=r[0];let s=r[1],i=r[2];return N(i)?s<0?s=Math.max(0,o.length+s):(i=s,s=0):(s<0&&(s=Math.max(0,o.length+s)),b(i>0,"Invalid argument for $slice operator. Limit must be a positive number"),i+=s),o.slice(s,i)},ye=(t,e)=>(n,r,o)=>{b(v(r),`${t}: expression must be an array.`);const s=pt(n,r,null,o);return s.some(N)?null:(b(s.every(x),`${t}: expression must evalue to array of numbers.`),e(s))},be=(ye("$bitAnd",(t=>t.reduce(((t,e)=>t&e),-1))),ye("$bitOr",(t=>t.reduce(((t,e)=>t|e),0))),ye("$bitXor",(t=>t.reduce(((t,e)=>t^e),0))),(t,e)=>{const n={};return t.split("").forEach(((t,r)=>n[t]=e*(r+1))),n});be("ABCDEFGHIKLM",1),be("NOPQRSTUVWXY",-1);const $e={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function me(t,e=$e){const n=Object.assign({},$e,e),r=new Set(Object.keys(n));return(e,o,s)=>{const i=pt(e,o,null,s);if(r.has(`${i}`)){const e=n[`${i}`];if(e instanceof Error)throw new u(`cannot apply $${t.name} to -inf, value must in (-inf,inf)`);return e}return t(i)}}me(Math.acos,{Infinity:1/0,0:new Error}),me(Math.acosh,{Infinity:1/0,0:new Error}),me(Math.asin),me(Math.asinh,{Infinity:1/0,"-Infinity":-1/0}),me(Math.atan),me(Math.atanh,{1:1/0,"-1":-1/0}),me(Math.cos),me(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const Oe=Math.PI/180,we=(me((t=>t*Oe),{Infinity:1/0,"-Infinity":1/0}),180/Math.PI);me((t=>t*we),{Infinity:1/0,"-Infinity":-1/0}),me(Math.sin),me(Math.sinh,{"-Infinity":-1/0,Infinity:1/0}),me(Math.tan),Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER;Error;const je=(t,e,n,r)=>{const o=Z(t,n),s=new Ut(e,r);b(v(o),"$elemMatch: argument must resolve to array");const i=[];for(let c=0;c<o.length;c++)if(s.test(o[c])){if(r.useStrictMode)return[o[c]];i.push(o[c])}return i.length>0?i:void 0},xe=(t,e,n,r)=>{const o=Z(t,n),s=e;return v(o)?ge(t,v(e)?[o,...s]:[o,e],r):o},ve=_t(Yt),ke=_t(ne),Ee=_t(te),Me=t=>_t(((e,n,r)=>{let o=0;if(v(n))for(const t of n)o|=1<<t;else o=n;return t(e&o,o)})),Se=Me(((t,e)=>0==t)),Ae=Me(((t,e)=>t==e)),Ne=Me(((t,e)=>t<e)),Ie=Me(((t,e)=>t>0)),Ce=_t(Vt),Pe=_t(Xt),Re=_t(Zt),ze=_t(Kt),Fe=_t(Bt),Le=_t(Qt),Ge=_t(Dt),Te=_t(Wt),Ue=(t,e,n)=>{const r=t.includes("."),o=!!e;return!r||t.match(/\.\d+$/)?e=>void 0!==Z(e,t)===o:e=>{const n=H(e,t,{preserveIndex:!0}),r=Z(n,t.substring(0,t.lastIndexOf(".")));return v(r)?r.some((t=>void 0!==t))===o:void 0!==r===o}},_e=_t(ie);function qe(t,e,n){return t=>pt(t,e,null,n)}function Ve(t,e,n){if(!n?.jsonSchemaValidator)throw new u("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");const r=n?.jsonSchemaValidator(e);return t=>r(t)}const De=_t(Ht),Ke=_t(Jt);function We(t,e,n){b(n.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");const r=e;return b(A(r),"$where only accepts a Function object"),t=>I(r.call(t),n?.useStrictMode)}const Be=(t,e,n)=>{b(v(e),"Invalid expression: $and expects value to be an Array.");const r=e.map((t=>new Ut(t,n)));return t=>r.every((e=>e.test(t)))},Qe=(t,e,n)=>{b(v(e),"Invalid expression. $or expects value to be an Array");const r=e.map((t=>new Ut(t,n)));return t=>r.some((e=>e.test(t)))},Xe=(t,e,n)=>{b(v(e),"Invalid expression. $nor expects value to be an array.");const r=Qe("$or",e,n);return t=>!r(t)},Ze=(t,e,n)=>{const r={};r[t]=st(e);const o=new Ut(r,n);return t=>!o.test(t)};ft("expression",{...r,...o}),ft("pipeline",{$project:Nt,$skip:Pt,$limit:At,$sort:Rt}),ft("projection",s),ft("query",i);const He={cloneMode:"copy",queryOptions:ut({context:at.init().addQueryOps(i).addExpressionOps(r).addExpressionOps(o)})},Je=(t,e)=>{switch(t){case"deep":return F(e);case"copy":return M(e)?new Date(e):v(e)?[...e]:k(e)?{...e}:S(e)?new RegExp(e):e;default:return e}},Ye=/^[a-z]+[a-zA-Z0-9]*$/;function tn(t){if(!t.includes(".$"))return[{parent:t,selector:t},[]];const e=t.indexOf(".$"),n=t.indexOf("]"),r=t.substring(0,e),o=t.substring(e+3,n);b(""===o||Ye.test(o),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");const s=t.substring(n+2),[i,c]=s?tn(s):[];return[{selector:t,parent:r,child:o||"$",next:i},[o,...c||[]].filter(Boolean)]}const en=(t,e,n,r,o)=>{const{parent:s,child:i,next:c}=e;if(!i){let e=!1;const n=(t,n)=>e=Boolean(r(t,n))||e;return tt(t,s,n,o),e}const u=Z(t,s);return!!v(u)&&u.map(((t,e)=>!(n[i]&&!n[i].test({[i]:t}))&&(c?en(t,c,n,r,o):r(u,e)))).some(Boolean)};function nn(t,e,n,r){const o=[];for(const[s,i]of Object.entries(t)){const[t,c]=tn(s);if(c.length){const s={};e.forEach((t=>{Object.keys(t).forEach((e=>{c.forEach((n=>{(e===n||e.startsWith(n+"."))&&(s[n]=s[n]||{},Object.assign(s[n],{[e]:t[e]}))}))}))}));const u={};for(const[t,e]of Object.entries(s))u[t]=new Ut(e,n.queryOptions);r(i,t,u)&&o.push(t.parent)}else r(i,t,{})&&o.push(t.parent)}return o}const rn=(t,e,n=[],r=He)=>nn(e,n,r,((e,n,o)=>{const s={$each:[e]};return k(e)&&R(e,"$each")&&Object.assign(s,e),en(t,n,o,((t,e)=>{const n=t[e]||=[],o=T([n,s.$each]);return o.length!==s.$each.length&&(t[e]=Je(r.cloneMode,D(n.concat(s.$each))),!0)}),{buildGraph:!0})})),on=new Set(["and","or","xor"]),sn=(t,e,n=[],r=He)=>nn(e,n,r,((e,n,r)=>{const o=Object.keys(e);return b(1===o.length&&on.has(o[0]),`Invalid bit operator '${o[0]}'. Must be one of 'and', 'or', or 'xor'.`),en(t,n,r,((t,n)=>{let r=t[n];const s=e[o[0]];if(void 0!==r&&(!x(r)||!x(s)))return!1;switch(r=r||0,o[0]){case"and":t[n]=r&s;break;case"or":t[n]=r|s;break;case"xor":t[n]=r^s;break}return t[n]!==r}),{buildGraph:!0})})),cn=(t,e,n=[],r=He)=>{const o=Date.now();return nn(e,n,r,((e,n,r)=>en(t,n,r,((t,e)=>(t[e]=o,!0)),{buildGraph:!0})))},un=(t,e,n=[],r=He)=>nn(e,n,r,((e,n,r)=>{if(!n.child){const e=Z(t,n.parent);b(void 0===e||x(e),"cannot apply $inc to a value of non-numeric type")}return en(t,n,r,((t,n)=>(t[n]=(t[n]||=0)+e,!0)),{buildGraph:!0})})),an=(t,e,n=[],r=He)=>nn(e,n,r,((e,n,r)=>en(t,n,r,((t,n)=>!(void 0!==t[n]&&g(t[n],e)>-1)&&(t[n]=e,!0)),{buildGraph:!0}))),ln=(t,e,n=[],r=He)=>nn(e,n,r,((e,n,r)=>en(t,n,r,((t,n)=>!(void 0!==t[n]&&g(t[n],e)<1)&&(t[n]=e,!0)),{buildGraph:!0}))),fn=(t,e,n=[],r=He)=>nn(e,n,r,((e,n,r)=>en(t,n,r,((t,n)=>{const r=t[n];return t[n]=void 0===t[n]?0:t[n]*e,t[n]!==r}),{buildGraph:!0}))),hn=(t,e,n=[],r=He)=>nn(e,n,r,((e,n,r)=>en(t,n,r,((t,r)=>{const o=t[r];return b(v(o),`path '${n.selector}' contains an element of non-array type.`),!!o.length&&(-1===e?o.splice(0,1):o.pop(),!0)})))),pn=(t,e,n=[],r=He)=>nn(e,n,r,((e,n,o)=>{const s=!k(e)||Object.keys(e).some(ot),i=new Ut(s?{k:e}:e,r.queryOptions),c=s?t=>i.test({k:t}):t=>i.test(t);return en(t,n,o,((t,e)=>{const n=t[e],r=new Array,o=n.map((t=>{const e=c(t);return e||r.push(t),e})).some(Boolean);return!!o&&(t[e]=r,!0)}))})),dn=(t,e,n=[],r=He)=>{const o={};return Object.entries(e).forEach((([t,e])=>{o[t]={$in:e}})),pn(t,o,n,r)},gn=Object.freeze(["$each","$slice","$sort","$position"]),yn=(t,e,n=[],r=He)=>nn(e,n,r,((e,n,o)=>{const s={$each:[e]};return k(e)&&gn.some((t=>R(e,t)))&&Object.assign(s,e),en(t,n,o,((t,e)=>{const n=t[e]||=[],o=n.slice(0,s.$slice||n.length),i=n.length,c=x(s.$position)?s.$position:n.length;if(n.splice(c,0,...Je(r.cloneMode,s.$each)),s.$sort){const t=k(s.$sort)?Object.keys(s.$sort||{}).pop():"",e=t?s.$sort[t]:s.$sort,r=t?e=>Z(e,t):t=>t;n.sort(((t,n)=>e*g(r(t),r(n))))}return x(s.$slice)&&(s.$slice<0?n.splice(0,n.length+s.$slice):n.splice(s.$slice)),i!=n.length||!V(o,n)}),{descendArray:!0,buildGraph:!0})})),bn=(t,e,n=[],r=He)=>nn(e,n,r,((e,n,o)=>en(t,n,o,((t,n)=>!V(t[n],e)&&(t[n]=Je(r.cloneMode,e),!0)),{buildGraph:!0}))),$n=(t,e,n=[],r=He)=>{const o=[],s=nn(e,n,r,((e,s,i)=>en(t,s,i,((s,i)=>!!R(s,i)&&(o.push(...bn(t,{[e]:s[i]},n,r)),delete s[i],!0)))));return Array.from(new Set(s.concat(o)))},mn=(t,e,n=[],r=He)=>nn(e,n,r,((e,n,r)=>en(t,n,r,((t,e)=>!!R(t,e)&&(v(t)?t[e]=null:delete t[e],!0)))));function On(t){return t=t??He,(e,n,r=[],o={},s=t)=>{const i=Object.entries(n);b(1===i.length,"Update expression must contain only one operator.");const[u,a]=i[0];b(R(c,u),`Update operator '${u}' is not supported.`);const l=c[u];if(Object.keys(o).length){const t=new Ut(o,s.queryOptions);if(!t.test(e))return[]}return l(e,a,r,s)}}On()}}]);
//# sourceMappingURL=926.e4914c13.js.map