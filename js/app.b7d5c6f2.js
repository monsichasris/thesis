(function(){"use strict";var t={4918:function(t,e,o){var r=o(3751),n=o(641);function i(t,e,o,r,i,a){const s=(0,n.g2)("Intro"),l=(0,n.g2)("OverView"),c=(0,n.g2)("Outro");return(0,n.uX)(),(0,n.CE)(n.FK,null,[e[0]||(e[0]=(0,n.Lk)("link",{rel:"stylesheet",href:"https://use.typekit.net/zik1lgr.css"},null,-1)),(0,n.Lk)("section",null,[(0,n.bF)(s)]),(0,n.Lk)("section",null,[(0,n.bF)(l,{jsonData:i.jsonData},null,8,["jsonData"])]),(0,n.Lk)("section",null,[(0,n.bF)(c)]),e[1]||(e[1]=(0,n.Lk)("footer",null,null,-1))],64)}var a=o(3897);function s(t,e,o,r,i,a){return e[0]||(e[0]=(0,n.Fv)('<div data-v-561b09c6><img src="img/title_img.png" width="80%" data-v-561b09c6></div><div style="height:100vh;position:sticky;top:0;" data-v-561b09c6><img src="img/stores.png" width="100%" style="position:absolute;transform:translate(-50%, 0%);bottom:0;left:50%;z-index:1;" data-v-561b09c6></div><div class="scroll" data-v-561b09c6><p class="textbox" data-v-561b09c6> If you live in the city, going to the grocery store is a part of life—whether you enjoy it or not. But have you ever really looked at the signs? Noticed something unusual? Felt drawn to one in particular? These signs tell a story more than you think. </p><p class="textbox" data-v-561b09c6> For me, exploring grocery stores is a way to understand a place, what people eat and how they live. In NYC, there are almost 10,000 grocery stores, each reflecting different foods, cuisines, and cultures. <br data-v-561b09c6> Let’s take a closer look. </p><p class="textbox" data-v-561b09c6>What we will explore on grocery store signs</p><img src="img/explain-sign.png" width="60%" style="margin-top:-320px;transform:translate(-50%, 0%);margin-left:50%;z-index:0;" data-v-561b09c6><p class="textbox" data-v-561b09c6> These are the key elements of brand identity that shape how a store, But beyond branding, do these signs also reflect the anything else? </p></div>',3))}var l={name:"IntroSection",props:{text:String}},c=o(6262);const d=(0,c.A)(l,[["render",s],["__scopeId","data-v-561b09c6"]]);var h=d;const u={class:"overview-layout"},g={class:"key-elements"},p={key:1};function v(t,e,o,r,i,a){const s=(0,n.g2)("HighLights"),l=(0,n.g2)("WordsSection"),c=(0,n.g2)("VisualChart"),d=(0,n.g2)("ImageCluster");return(0,n.uX)(),(0,n.CE)("div",u,[(0,n.bF)(s,{highlights:i.highlights,onUpdateActiveWord:a.handleActiveWord},null,8,["highlights","onUpdateActiveWord"]),(0,n.Lk)("div",g,[a.isVisualOrAfter?((0,n.uX)(),(0,n.CE)("div",p,[(0,n.bF)(c,{containerId:"stacked-bar-chart-fonts",type:"fonts",jsonData:o.jsonData,activeTitle:i.activeTitle},null,8,["jsonData","activeTitle"]),(0,n.bF)(c,{containerId:"stacked-bar-chart-colors",type:"colors",jsonData:o.jsonData,activeTitle:i.activeTitle},null,8,["jsonData","activeTitle"])])):((0,n.uX)(),(0,n.Wv)(l,{key:0,jsonData:o.jsonData,activeTitle:i.activeTitle},null,8,["jsonData","activeTitle"])),(0,n.bF)(d,{jsonData:o.jsonData,selectedWord:i.selectedWord},null,8,["jsonData","selectedWord"])])])}o(8992),o(7550);var f=o(33);const m={class:"word-container"};function y(t,e,o,r,i,a){return(0,n.uX)(),(0,n.CE)("div",m,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.filteredWords,(t=>((0,n.uX)(),(0,n.CE)("span",{key:t["Name Words"],class:(0,f.C4)(["word",{wordhighlight:(a.activeWords||[]).some((e=>e?.toLowerCase()===t["Name Words"]?.toLowerCase()))}]),style:(0,f.Tr)({fontSize:.3*t["Store Count"]+"px"})},(0,f.v_)(t["Name Words"]),7)))),128))])}o(7642),o(8004),o(3853),o(5876),o(2475),o(5024),o(1698),o(4520),o(3949),o(1454);var w=o(8771),b={name:"WordsSection",props:{jsonData:{type:Array,required:!0},activeTitle:{type:Array,required:!0}},computed:{filteredWords(){const t={},e=["grill","la","el","ave","st","street","deligrocery","mrkt","mtk","grcy"];return this.jsonData?.forEach((o=>{if(o.words){const r=o.chain,n=new Set(o.words);n.forEach((o=>{w.z.isStopWord(o)||e.includes(o.toLowerCase())||1===o.length&&isNaN(o)||r||(t[o]=(t[o]||0)+1)}))}})),Object.entries(t).filter((([,t])=>t>15)).map((([t,e])=>({"Name Words":t,"Store Count":e}))).sort(((t,e)=>e["Store Count"]-t["Store Count"]))},activeWords(){const t={new:["new","york"],fresh:["fresh","green","organic","natural","farm","healthy","health","farmer","farmers","garden"],stop:["stop","express","fast","convenient","quick","go","grab"],star:["star","super","best","top","great"],lucky:["lucky","happy","famous"],nationality:["halal","kosher","islamic","jewish","chinese","korean","italian","american","latin","mexican","mexicana","caribbean","indian","international","african","usa"],mr:["brothers","bro","brother","bros","son","mr"]};return t[this.activeTitle?.toLowerCase()]||[this.activeTitle]},selectedWord(){return this.activeTitle}}};const k=(0,c.A)(b,[["render",y],["__scopeId","data-v-9b8171f4"]]);var C=k;const S={class:"image-cluster"},j={ref:"svg",class:"image-svg"},x={ref:"tooltip",class:"tooltip"};function W(t,e,o,r,i,a){return(0,n.uX)(),(0,n.CE)("div",S,[((0,n.uX)(),(0,n.CE)("svg",j,null,512)),(0,n.Lk)("div",x,null,512)])}var T={name:"ImageCluster",props:{jsonData:{type:[String,Array],required:!0},selectedWord:{type:String,default:null},selectedColor:{type:String,default:null},selectedFont:{type:String,default:null},selectedNeighborhood:{type:String,default:null}},computed:{filteredStores(){return this.jsonData.filter((t=>{const e=Array.isArray(this.selectedWord)?this.selectedWord:[this.selectedWord],o=!!this.selectedWord&&e.some((e=>t.words?.includes(e))),r=!!this.selectedWord&&e.some((e=>t.colors?.includes(e))),n=!!this.selectedWord&&e.some((e=>t.fonts?.includes(e))),i=!this.selectedNeighborhood||t.neighborhood===this.selectedNeighborhood,a="Yes"===t.has_sign;return a&&this.selectedWord&&(o||r||n)&&i}))}},mounted(){console.log("jsonData in ImageCluster:",this.jsonData),console.log("selectedWord in ImageCluster:",this.selectedWord),this.createForceSimulation()},watch:{selectedWord(t){console.log("selectedWord changed in ImageCluster:",t),this.createForceSimulation()}},methods:{getImagePath(t){return`/street_view_images/${t.borough}/${t.id}.jpg`},createForceSimulation(){const t=this.$refs.svg.parentElement.offsetWidth,e=600,o=a.Ltv(this.$refs.svg).attr("width",t).attr("height",e),r=a.Ltv(this.$refs.tooltip),n=this.filteredStores.map((o=>({id:o.id,name:o.names,neighborhood:o.neighborhood,borough:o.borough,image:this.getImagePath(o),x:Math.random()*t,y:Math.random()*e})));this.simulation=a.tXi(n.slice(0,100)).force("center",a.jTM(t/2,e/2)).force("charge",a.xJS().strength(10)).force("collision",a.eRw().radius(20)).on("tick",(()=>{o.selectAll("image").data(n).join("image").attr("xlink:href",(t=>t.image)).attr("x",(t=>t.x-20)).attr("y",(t=>t.y-20)).attr("width",80).attr("height",40).attr("loading","lazy").attr("cursor","pointer").on("mouseover",((t,e)=>{r.style("display","block").style("left",`${t.clientX+4}px`).style("top",`${t.clientY+4}px`).html(`<strong>${e.name}</strong><br>Neighborhood: ${e.neighborhood}<br>Borough: ${e.borough}`),a.Ltv(t.target).attr("width",100).attr("height",60)})).on("mouseout",(function(){r.style("display","none"),a.Ltv(this).attr("width",80).attr("height",40)})).on("mousemove",(t=>{r.style("left",`${t.clientX+4}px`).style("top",`${t.clientY+4}px`)}))}))}}};const L=(0,c.A)(T,[["render",W],["__scopeId","data-v-c8e118f8"]]);var A=L;const E={class:"highlights-container"},I={key:0},O={key:1};function _(t,e,o,r,i,a){return(0,n.uX)(),(0,n.CE)("div",E,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.highlights,(t=>((0,n.uX)(),(0,n.CE)("div",{class:"highlight",key:t.title},[t.isH1?((0,n.uX)(),(0,n.CE)("h1",I,(0,f.v_)(t.title),1)):((0,n.uX)(),(0,n.CE)("h2",O,(0,f.v_)(t.title),1)),(0,n.Lk)("p",null,(0,f.v_)(t.content),1)])))),128))])}var D=o(9700),F=o.n(D),$={name:"HighLight",props:{highlights:{type:Array,required:!0}},data(){return{scroller:null}},mounted(){this.initScrollama()},methods:{initScrollama(){this.scroller=F()(),this.scroller.setup({step:".highlight",offset:.8,debug:!1}).onStepEnter((({element:t})=>{const e=t.querySelector("h1, h2"),o=e?.textContent?.toLowerCase()?.trim();o?this.$emit("update-active-word",o):console.warn("Title is undefined or empty")}))}}};const N=(0,c.A)($,[["render",_],["__scopeId","data-v-59366c8b"]]);var X=N;const H=["id"];function q(t,e,o,r,i,a){return(0,n.uX)(),(0,n.CE)("div",{id:o.containerId,class:"stacked-bar-chart"},null,8,H)}o(8872);var B={name:"VisualChart",props:{containerId:{type:String,required:!0},type:{type:String,required:!0},jsonData:{type:Array,required:!0},activeTitle:{type:String,required:!0}},mounted(){this.createStackedBarChart()},watch:{activeTitle:{immediate:!0,handler(){this.createStackedBarChart()}}},methods:{createStackedBarChart(){a.Ltv(`#${this.containerId}`).selectAll("*").remove();const t=this.jsonData.reduce(((t,e)=>(e[this.type]&&e[this.type].forEach((e=>{t[e]=(t[e]||0)+1})),t)),{}),e=Object.entries(t).map((([t,e])=>({name:t,value:e}))),o=800,r=50,n={top:10,right:10,bottom:10,left:50},i=a.Ltv(`#${this.containerId}`).append("svg").attr("width",o+n.left+n.right).attr("height",r+n.top+n.bottom).append("g").attr("transform",`translate(${n.left},${n.top})`),s=a.m4Y().domain([0,a.czq(e,(t=>t.value))]).range([0,o]);let l=0;e.forEach((t=>{console.log(`Bar name: ${t.name}, Active title: ${this.activeTitle}`);const e=s(t.value);i.append("rect").attr("x",s(l)).attr("y",0).attr("width",e).attr("height",r-10).attr("fill","colors"===this.type?t.name?.toLowerCase():t.name?.toLowerCase()===this.activeTitle?"yellow":"white").attr("stroke",t.name?.toLowerCase()===this.activeTitle.toLowerCase()?"#000":"none").attr("stroke-width",t.name?.toLowerCase()===this.activeTitle.toLowerCase()?2:0),"colors"!==this.type&&i.append("text").attr("x",s(l)+e/2).attr("y",(r-10)/2).attr("dy",".35em").attr("text-anchor","middle").text(t.name).style("fill",t.name?.toLowerCase()===this.activeTitle.toLowerCase()?"red":"black").style("font-size","12px").style("pointer-events","none"),l+=t.value}))}}};const V=(0,c.A)(B,[["render",q],["__scopeId","data-v-ac809840"]]);var z=V,M={name:"OverView",components:{WordsSection:C,ImageCluster:A,HighLights:X,VisualChart:z},props:{jsonData:{type:Array,required:!0}},data(){return{activeTitle:null,selectedWord:"new",highlights:[{title:"TEXTUAL",content:"What we see in the words...",isH1:!0},{title:"NEW",content:"Of course it's in New York...",isH1:!1},{title:"FRESH",content:"Even if Americans are not...",isH1:!1},{title:"STOP",content:"Another group of words...",isH1:!1},{title:"STAR",content:"Star, Super, Best, Top...",isH1:!1},{title:"Lucky",content:"The word lucky has been used...",isH1:!1},{title:"Mr",content:"Bro, Brother, Bros, Son, Mr...",isH1:!1},{title:"Nationality",content:"Besides the street name...",isH1:!1},{title:"VISUAL",content:"What we see in the colors...",isH1:!0},{title:"Green",content:"The colors used in the stores...",isH1:!1},{title:"Script",content:"The fonts used in the stores...",isH1:!1},{title:"Complimentary",content:"The complimentary colors...",isH1:!1}]}},watch:{activeTitle(t){"visual"===t&&console.log("Switched to visual mode")}},methods:{handleActiveWord(t){this.activeTitle=t.toLowerCase(),this.isVisualOrAfter?"visual"===t.toLowerCase()?this.selectedWord="default-font":"green"===t.toLowerCase()?this.selectedWord="Green":"script"===t.toLowerCase()?this.selectedWord="Script":this.selectedWord=null:this.selectedWord=t,console.log(`Active title updated to: ${this.activeTitle}`),console.log(`Selected word updated to: ${this.selectedWord}`)}},computed:{isVisualOrAfter(){const t=this.highlights.findIndex((t=>"visual"===t.title.toLowerCase())),e=this.highlights.findIndex((t=>t.title.toLowerCase()===this.activeTitle));return e>=t}}};const J=(0,c.A)(M,[["render",v],["__scopeId","data-v-65d3d7be"]]);var P=J;const Y={style:{display:"flex","flex-direction":"column",height:"100vh"}};function G(t,e,o,r,i,a){return(0,n.uX)(),(0,n.CE)("div",Y,e[0]||(e[0]=[(0,n.Lk)("div",{style:{"flex-grow":"1"}},null,-1),(0,n.Lk)("div",null,[(0,n.Lk)("img",{src:"img/stores.png",width:"100%",style:{margin:"auto"}})],-1)]))}var U={name:"OutroSection",props:{text:String}};const K=(0,c.A)(U,[["render",G],["__scopeId","data-v-3107009e"]]);var R=K,Q={name:"App",components:{Intro:h,OverView:P,Outro:R},data(){return{jsonData:[]}},async mounted(){this.jsonData=await this.loadJSON()},methods:{async loadJSON(){try{const t=await fetch("/main_df.json");if(!t.ok)throw new Error("Failed to fetch words.json");const e=await t.json();return e}catch(t){return console.error("Error loading JSON:",t),null}},async loadGeoJSON(){try{const t=await fetch("/neighborhoods.json");if(!t.ok)throw new Error("Failed to fetch neighborhoods.json");const e=await t.json();return e}catch(t){return console.error("Error loading GeoJSON:",t),null}},async loadDemographicData(){try{const t=await fetch("/demographic.csv");if(!t.ok)throw new Error(`Failed to fetch demographic.csv: ${t.statusText}`);const e=await t.text(),o=a.swJ(e);return o}catch(t){return console.error("Error loading demographic data:",t),[]}}}};const Z=(0,c.A)(Q,[["render",i]]);var tt=Z,et=o(7318);const ot=(0,r.Ef)(tt);ot.use(et.A),ot.mount("#app")}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=t,function(){var t=[];o.O=function(e,r,n,i){if(!r){var a=1/0;for(d=0;d<t.length;d++){r=t[d][0],n=t[d][1],i=t[d][2];for(var s=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(o.O).every((function(t){return o.O[t](r[l])}))?r.splice(l--,1):(s=!1,i<a&&(a=i));if(s){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[r,n,i]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,i,a=r[0],s=r[1],l=r[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(l)var d=l(o)}for(e&&e(r);c<a.length;c++)i=a[c],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(d)},r=self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],(function(){return o(4918)}));r=o.O(r)})();
//# sourceMappingURL=app.b7d5c6f2.js.map