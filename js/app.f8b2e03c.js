(function(){"use strict";var e={1722:function(e,t,a){var r=a(3751),n=a(641);function o(e,t,a,r,o,s){const i=(0,n.g2)("Intro"),l=(0,n.g2)("NameCluster"),c=(0,n.g2)("MapBase");return(0,n.uX)(),(0,n.CE)(n.FK,null,[t[0]||(t[0]=(0,n.Lk)("img",{alt:"title",src:"img/title.png",width:"100%"},null,-1)),(0,n.Lk)("section",null,[(0,n.bF)(i)]),(0,n.Lk)("section",null,[(0,n.bF)(l,{csvData:o.csvData},null,8,["csvData"])]),(0,n.Lk)("section",null,[(0,n.bF)(c,{accessToken:o.mapboxAccessToken,center:[40.7128,-74.006],zoom:12},null,8,["accessToken"])]),t[1]||(t[1]=(0,n.Lk)("section",null,"Thank you",-1)),t[2]||(t[2]=(0,n.Lk)("footer",null,null,-1))],64)}function s(e,t,a,r,o,s){return t[0]||(t[0]=(0,n.Fv)('<div style="height:100vh;position:sticky;top:0;" data-v-2a7355ec><img src="img/basket.svg" style="position:absolute;transform:translate(-50%, 0%);bottom:0;left:50%;z-index:-1;" data-v-2a7355ec></div><div class="scroll" data-v-2a7355ec><p class="textbox" data-v-2a7355ec> If you live in the city, going to the grocery store is a part of life—whether you enjoy it or not. But have you ever really looked at the signs? Noticed something unusual? Felt drawn to one in particular? These signs tell a story more than you think. </p><p class="textbox" data-v-2a7355ec> For me, exploring grocery stores is a way to understand a place, what people eat and how they live. In NYC, there are over 10,000 grocery stores, each reflecting different foods, cuisines, and cultures. What do they reveal about the people here?<br data-v-2a7355ec> Let’s take a closer look. </p><p class="textbox" data-v-2a7355ec>What we will explore on grocery store signs</p><img src="img/explain-sign.png" width="60%" style="margin-top:-320px;transform:translate(-50%, 0%);margin-left:50%;" data-v-2a7355ec><p class="textbox" data-v-2a7355ec> These are the key elements of brand identity that shape how a store presents itself. But beyond branding, do these signs also reflect the identities of the people and cultures they serve? </p></div>',2))}var i={name:"IntroSection",props:{text:String}},l=a(6262);const c=(0,l.A)(i,[["render",s],["__scopeId","data-v-2a7355ec"]]);var u=c,p=a(33);const h=["value"],d={key:0},m={ref:"bubbleChart",width:"800",height:"600"},g={key:1},f={ref:"bubbleChart",width:"800",height:"600"},y={key:2};function b(e,t,a,o,s,i){return(0,n.uX)(),(0,n.CE)("div",null,[t[4]||(t[4]=(0,n.Lk)("h1",null,"Groups of DBA Names",-1)),t[5]||(t[5]=(0,n.Lk)("label",{for:"groupBy"},"Group By:",-1)),(0,n.bo)((0,n.Lk)("select",{id:"groupBy","onUpdate:modelValue":t[0]||(t[0]=e=>s.state.groupBy.selected=e),onChange:t[1]||(t[1]=(...e)=>i.updateChart&&i.updateChart(...e))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.state.groupBy.menu,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,p.v_)(e),9,h)))),128))],544),[[r.u1,s.state.groupBy.selected]]),(0,n.Lk)("button",{onClick:t[2]||(t[2]=e=>i.setView("words"))},"Shared Words View"),(0,n.Lk)("button",{onClick:t[3]||(t[3]=e=>i.setView("counties"))},"Counties View"),s.groups.length&&"words"===s.currentView?((0,n.uX)(),(0,n.CE)("div",d,[((0,n.uX)(),(0,n.CE)("svg",m,null,512))])):(0,n.Q3)("",!0),s.countyGroups.length&&"counties"===s.currentView?((0,n.uX)(),(0,n.CE)("div",g,[((0,n.uX)(),(0,n.CE)("svg",f,null,512))])):((0,n.uX)(),(0,n.CE)("p",y,"No groups found"))])}a(4114),a(8992),a(3949),a(1454),a(8872);var v=a(2739),C={name:"NameCluster",props:["csvData"],data(){return{groups:[],countyGroups:[],currentView:"words",state:{data:[],groupBy:{menu:["name","font","colors"],selected:"name"}}}},watch:{currentView(e){this.$nextTick((()=>{"words"===e&&this.groups.length?this.createBubbleChart():"counties"===e&&this.countyGroups.length&&this.createCountyBubbleChart()}))},csvData(e){e&&this.processCSV(e)},groups(e){e.length&&"words"===this.currentView&&this.$nextTick((()=>{this.createBubbleChart()}))},countyGroups(e){e.length&&"counties"===this.currentView&&this.$nextTick((()=>{this.createCountyBubbleChart()}))}},methods:{setView(e){this.currentView=e},updateChart(){console.log("Grouping by:",this.state.groupBy.selected),"name"===this.state.groupBy.selected?this.prepareDataByName():"font"===this.state.groupBy.selected?this.prepareDataByFont():"colors"===this.state.groupBy.selected&&this.prepareDataByColors()},async processCSV(e){if(!e)return void console.error("Empty or invalid CSV data");const t=e.split(/\r?\n/).map((e=>e.split(","))),a=t[0],r=a.indexOf("DBA Name"),n=a.indexOf("County"),o={},s={};for(let c=1;c<t.length;c++){const e=t[c][r]?.trim(),a=t[c][n]?.trim();if(e&&a){const t=e.split(/[\s&]+/).map((e=>e.toLowerCase()));for(const a of t){const t=!isNaN(a),r=t?"numbers":a;o[r]||(o[r]=[]),o[r].push(e)}s[a]||(s[a]=[]),s[a].push(e)}}const i=Object.entries(o).map((([e,t])=>({sharedWord:e,names:t}))),l=Object.entries(s).map((([e,t])=>({county:e,children:Object.entries(t.reduce(((e,t)=>{const a=t.split(/[\s&]+/).map((e=>e.toLowerCase()));return a.forEach((a=>{const r=isNaN(a)?a:"numbers";e[r]||(e[r]=[]),e[r].push(t)})),e}),{})).map((([e,t])=>({sharedWord:e,size:t.length,names:t})))})));console.log("Final Groups:",i),console.log("Final County Groups:",l),this.groups=[...i],this.countyGroups=[...l]},prepareDataByName(){console.log("Preparing data grouped by name..."),this.state.data=this.groups.map((e=>({name:e.sharedWord,size:e.names.length}))),console.log("Data grouped by name:",this.state.data),this.createBubbleChart()},prepareDataByFont(){this.state.data=[{name:"Arial",size:10},{name:"Helvetica",size:15},{name:"Times New Roman",size:20}],console.log("Data grouped by font:",this.state.data),this.createBubbleChart()},prepareDataByColors(){this.state.data=[{name:"Red",size:5},{name:"Blue",size:8},{name:"Green",size:12}],console.log("Data grouped by colors:",this.state.data),this.createBubbleChart()},createBubbleChart(){const e=v.Ltv(this.$refs.bubbleChart);e.selectAll("*").remove();const t=+e.attr("width"),a=+e.attr("height"),r=this.groups.map(((e,t)=>({id:t,name:e.sharedWord,size:e.names.length,names:e.names})));console.log("Bubble Chart Data:",r);const n=v.qqI().size([t,a]).padding(5),o=v.Sk5({children:r}).sum((e=>e.size)),s=n(o).leaves(),i=e.selectAll("g").data(s).enter().append("g").attr("transform",(e=>`translate(${e.x},${e.y})`));i.append("circle").attr("r",(e=>e.r)).attr("fill","#fff").attr("stroke","#000").attr("stroke-width",1),i.append("text").attr("text-anchor","middle").attr("dy",".3em").style("font-size",(e=>Math.min(e.r/3,12)+"px")).text((e=>e.data.name))},createCountyBubbleChart(){const e=v.Ltv(this.$refs.bubbleChart);e.selectAll("*").remove();const t=+e.attr("width"),a=+e.attr("height"),r={children:this.countyGroups.map((e=>({name:e.county,children:e.children.map((e=>({name:e.sharedWord,size:e.size})))})))};console.log("Hierarchy Data for County Bubble Chart:",r);const n=v.qqI().size([t,a]).padding(5),o=v.Sk5(r).sum((e=>e.size)).sort(((e,t)=>t.value-e.value)),s=n(o).descendants(),i=e.selectAll("g").data(s).enter().append("g").attr("transform",(e=>`translate(${e.x},${e.y})`));i.append("circle").attr("r",(e=>e.r)).attr("fill",(e=>e.children?"#ccc":"#fff")),i.append("text").attr("text-anchor","middle").attr("dy",".3em").style("font-size",(e=>Math.min(e.r/3,12)+"px")).text((e=>e.data.name))}}};const w=(0,l.A)(C,[["render",b]]);var k=w;const x={id:"map",ref:"mapContainer",class:"map-container"};function B(e,t,a,r,o,s){return(0,n.uX)(),(0,n.CE)("div",x,null,512)}var z=a(842),D=a.n(z),V={name:"MapBase",props:{accessToken:{type:String,required:!0},center:{type:Array,default:()=>[40,-74.5]},zoom:{type:Number,default:10}},data(){return{map:null}},mounted(){this.initializeMap()},beforeUnmount(){this.map&&this.map.remove()},methods:{initializeMap(){D().accessToken=this.accessToken,this.map=new(D().Map)({container:this.$refs.mapContainer,style:"mapbox://styles/monsicha/cm8qhxet2002y01qkbtph7hz6",center:this.center,zoom:this.zoom}),this.map.on("load",(()=>{console.log("Map loaded successfully!"),console.log("Map style:",this.map.getStyle())})),this.map.on("error",(e=>{console.error("Mapbox error:",e.error.message)}))}}};const N=(0,l.A)(V,[["render",B]]);var O=N,j={name:"App",components:{Intro:u,NameCluster:k,MapBase:O},data(){return{csvData:null,mapboxAccessToken:"pk.eyJ1IjoibW9uc2ljaGEiLCJhIjoiY2t1Z2Z2MXV1MjNtYzJucXBjYmwxNnpkNSJ9.e2G2z3OlPked0RO2kHnWlw"}},async mounted(){this.csvData=await this.loadCSV()},methods:{async loadCSV(){try{const e=await fetch("Retail_Food_Store.csv"),t=await e.text();return t}catch(e){return console.error("Error loading CSV:",e),null}}}};const L=(0,l.A)(j,[["render",o]]);var E=L;(0,r.Ef)(E).mount("#app")}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,o){if(!r){var s=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],o=e[u][2];for(var i=!0,l=0;l<r.length;l++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[l])}))?r.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,s=r[0],i=r[1],l=r[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(l)var u=l(a)}for(t&&t(r);c<s.length;c++)o=s[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},r=self["webpackChunkmy_project"]=self["webpackChunkmy_project"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(1722)}));r=a.O(r)})();
//# sourceMappingURL=app.f8b2e03c.js.map